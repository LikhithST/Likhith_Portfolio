var _a;
import { B as e, C as t, U as n, _ as r, a as i, b as a, v as o, z as s } from "./chunk-ABZYJK2D-ODb6qSou.js";
import { g as c, h as l, m as u } from "./src-D8UWkQNo.js";
import "./path-B-GLhb_8.js";
import "./math-O_7OW4FW.js";
import "./array-CopOK-GI.js";
import { g as d } from "./chunk-S3R3BYOJ-D8yhV3IZ.js";
import "./line-DzDDQdde.js";
import "./chunk-HN2XXSSU-SCO0eetj.js";
import "./chunk-CVBHYZKI-9IS-TY3G.js";
import "./chunk-ATLVNIR6-6j91LnhU.js";
import "./dist-DrVb-WkD.js";
import "./identity-IHMFXfGJ.js";
import "./chunk-JA3XYJ7Z-By1gQAUK.js";
import "./chunk-JZLCHNYA-BantgYUJ.js";
import "./chunk-QXUST7PY-BALPMe08.js";
import { r as f, t as p } from "./chunk-N4CR4FBY-CKvgw20D.js";
import { t as m } from "./chunk-55IACEB6-D1XFeFgk.js";
import { t as h } from "./chunk-QN33PNHL-BgmhZT4q.js";
var g = (function() {
  var e2 = l(function(e3, t3, n3, r3) {
    for (n3 || (n3 = {}), r3 = e3.length; r3--; n3[e3[r3]] = t3) ;
    return n3;
  }, `o`), t2 = [1, 3], n2 = [1, 4], r2 = [1, 5], i2 = [1, 6], a2 = [5, 6, 8, 9, 11, 13, 21, 22, 23, 24, 41, 42, 43, 44, 45, 46, 54, 72, 74, 77, 89, 90], o2 = [1, 22], s2 = [2, 7], c2 = [1, 26], u2 = [1, 27], d2 = [1, 28], f2 = [1, 29], p2 = [1, 33], m2 = [1, 34], h2 = [1, 35], g2 = [1, 36], _2 = [1, 37], v2 = [1, 38], y2 = [1, 24], b2 = [1, 31], x2 = [1, 32], S2 = [1, 30], C = [1, 39], w = [1, 40], T = [5, 8, 9, 11, 13, 21, 22, 23, 24, 41, 42, 43, 44, 45, 46, 54, 72, 74, 77, 89, 90], E = [1, 61], D = [89, 90], O = [5, 8, 9, 11, 13, 21, 22, 23, 24, 27, 29, 41, 42, 43, 44, 45, 46, 54, 61, 63, 72, 74, 75, 76, 77, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90], k = [27, 29], ee = [1, 70], A = [1, 71], te = [1, 72], ne = [1, 73], re = [1, 74], ie = [1, 75], ae = [1, 76], j = [1, 83], M = [1, 80], N = [1, 84], P = [1, 85], F = [1, 86], I = [1, 87], L = [1, 88], R = [1, 89], z = [1, 90], B = [1, 91], V = [1, 92], oe = [5, 8, 9, 11, 13, 21, 22, 23, 24, 27, 41, 42, 43, 44, 45, 46, 54, 72, 74, 75, 76, 77, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90], H = [63, 64], se = [1, 101], ce = [5, 8, 9, 11, 13, 21, 22, 23, 24, 41, 42, 43, 44, 45, 46, 54, 72, 74, 76, 77, 89, 90], U = [5, 8, 9, 11, 13, 21, 22, 23, 24, 41, 42, 43, 44, 45, 46, 54, 72, 74, 75, 76, 77, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90], W = [1, 110], G = [1, 106], K = [1, 107], q = [1, 108], J = [1, 109], Y = [1, 111], X = [1, 116], Z = [1, 117], Q = [1, 114], $ = [1, 115], le = { trace: l(function() {
  }, `trace`), yy: {}, symbols_: { error: 2, start: 3, directive: 4, NEWLINE: 5, RD: 6, diagram: 7, EOF: 8, acc_title: 9, acc_title_value: 10, acc_descr: 11, acc_descr_value: 12, acc_descr_multiline_value: 13, requirementDef: 14, elementDef: 15, relationshipDef: 16, direction: 17, styleStatement: 18, classDefStatement: 19, classStatement: 20, direction_tb: 21, direction_bt: 22, direction_rl: 23, direction_lr: 24, requirementType: 25, requirementName: 26, STRUCT_START: 27, requirementBody: 28, STYLE_SEPARATOR: 29, idList: 30, ID: 31, COLONSEP: 32, id: 33, TEXT: 34, text: 35, RISK: 36, riskLevel: 37, VERIFYMTHD: 38, verifyType: 39, STRUCT_STOP: 40, REQUIREMENT: 41, FUNCTIONAL_REQUIREMENT: 42, INTERFACE_REQUIREMENT: 43, PERFORMANCE_REQUIREMENT: 44, PHYSICAL_REQUIREMENT: 45, DESIGN_CONSTRAINT: 46, LOW_RISK: 47, MED_RISK: 48, HIGH_RISK: 49, VERIFY_ANALYSIS: 50, VERIFY_DEMONSTRATION: 51, VERIFY_INSPECTION: 52, VERIFY_TEST: 53, ELEMENT: 54, elementName: 55, elementBody: 56, TYPE: 57, type: 58, DOCREF: 59, ref: 60, END_ARROW_L: 61, relationship: 62, LINE: 63, END_ARROW_R: 64, CONTAINS: 65, COPIES: 66, DERIVES: 67, SATISFIES: 68, VERIFIES: 69, REFINES: 70, TRACES: 71, CLASSDEF: 72, stylesOpt: 73, CLASS: 74, ALPHA: 75, COMMA: 76, STYLE: 77, style: 78, styleComponent: 79, NUM: 80, COLON: 81, UNIT: 82, SPACE: 83, BRKT: 84, PCT: 85, MINUS: 86, LABEL: 87, SEMICOLON: 88, unqString: 89, qString: 90, $accept: 0, $end: 1 }, terminals_: { 2: `error`, 5: `NEWLINE`, 6: `RD`, 8: `EOF`, 9: `acc_title`, 10: `acc_title_value`, 11: `acc_descr`, 12: `acc_descr_value`, 13: `acc_descr_multiline_value`, 21: `direction_tb`, 22: `direction_bt`, 23: `direction_rl`, 24: `direction_lr`, 27: `STRUCT_START`, 29: `STYLE_SEPARATOR`, 31: `ID`, 32: `COLONSEP`, 34: `TEXT`, 36: `RISK`, 38: `VERIFYMTHD`, 40: `STRUCT_STOP`, 41: `REQUIREMENT`, 42: `FUNCTIONAL_REQUIREMENT`, 43: `INTERFACE_REQUIREMENT`, 44: `PERFORMANCE_REQUIREMENT`, 45: `PHYSICAL_REQUIREMENT`, 46: `DESIGN_CONSTRAINT`, 47: `LOW_RISK`, 48: `MED_RISK`, 49: `HIGH_RISK`, 50: `VERIFY_ANALYSIS`, 51: `VERIFY_DEMONSTRATION`, 52: `VERIFY_INSPECTION`, 53: `VERIFY_TEST`, 54: `ELEMENT`, 57: `TYPE`, 59: `DOCREF`, 61: `END_ARROW_L`, 63: `LINE`, 64: `END_ARROW_R`, 65: `CONTAINS`, 66: `COPIES`, 67: `DERIVES`, 68: `SATISFIES`, 69: `VERIFIES`, 70: `REFINES`, 71: `TRACES`, 72: `CLASSDEF`, 74: `CLASS`, 75: `ALPHA`, 76: `COMMA`, 77: `STYLE`, 80: `NUM`, 81: `COLON`, 82: `UNIT`, 83: `SPACE`, 84: `BRKT`, 85: `PCT`, 86: `MINUS`, 87: `LABEL`, 88: `SEMICOLON`, 89: `unqString`, 90: `qString` }, productions_: [0, [3, 3], [3, 2], [3, 4], [4, 2], [4, 2], [4, 1], [7, 0], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [17, 1], [17, 1], [17, 1], [17, 1], [14, 5], [14, 7], [28, 5], [28, 5], [28, 5], [28, 5], [28, 2], [28, 1], [25, 1], [25, 1], [25, 1], [25, 1], [25, 1], [25, 1], [37, 1], [37, 1], [37, 1], [39, 1], [39, 1], [39, 1], [39, 1], [15, 5], [15, 7], [56, 5], [56, 5], [56, 2], [56, 1], [16, 5], [16, 5], [62, 1], [62, 1], [62, 1], [62, 1], [62, 1], [62, 1], [62, 1], [19, 3], [20, 3], [20, 3], [30, 1], [30, 3], [30, 1], [30, 3], [18, 3], [73, 1], [73, 3], [78, 1], [78, 2], [79, 1], [79, 1], [79, 1], [79, 1], [79, 1], [79, 1], [79, 1], [79, 1], [79, 1], [79, 1], [26, 1], [26, 1], [33, 1], [33, 1], [35, 1], [35, 1], [55, 1], [55, 1], [58, 1], [58, 1], [60, 1], [60, 1]], performAction: l(function(e3, t3, n3, r3, i3, a3, o3) {
    var s3 = a3.length - 1;
    switch (i3) {
      case 4:
        this.$ = a3[s3].trim(), r3.setAccTitle(this.$);
        break;
      case 5:
      case 6:
        this.$ = a3[s3].trim(), r3.setAccDescription(this.$);
        break;
      case 7:
        this.$ = [];
        break;
      case 17:
        r3.setDirection(`TB`);
        break;
      case 18:
        r3.setDirection(`BT`);
        break;
      case 19:
        r3.setDirection(`RL`);
        break;
      case 20:
        r3.setDirection(`LR`);
        break;
      case 21:
        r3.addRequirement(a3[s3 - 3], a3[s3 - 4]);
        break;
      case 22:
        r3.addRequirement(a3[s3 - 5], a3[s3 - 6]), r3.setClass([a3[s3 - 5]], a3[s3 - 3]);
        break;
      case 23:
        r3.setNewReqId(a3[s3 - 2]);
        break;
      case 24:
        r3.setNewReqText(a3[s3 - 2]);
        break;
      case 25:
        r3.setNewReqRisk(a3[s3 - 2]);
        break;
      case 26:
        r3.setNewReqVerifyMethod(a3[s3 - 2]);
        break;
      case 29:
        this.$ = r3.RequirementType.REQUIREMENT;
        break;
      case 30:
        this.$ = r3.RequirementType.FUNCTIONAL_REQUIREMENT;
        break;
      case 31:
        this.$ = r3.RequirementType.INTERFACE_REQUIREMENT;
        break;
      case 32:
        this.$ = r3.RequirementType.PERFORMANCE_REQUIREMENT;
        break;
      case 33:
        this.$ = r3.RequirementType.PHYSICAL_REQUIREMENT;
        break;
      case 34:
        this.$ = r3.RequirementType.DESIGN_CONSTRAINT;
        break;
      case 35:
        this.$ = r3.RiskLevel.LOW_RISK;
        break;
      case 36:
        this.$ = r3.RiskLevel.MED_RISK;
        break;
      case 37:
        this.$ = r3.RiskLevel.HIGH_RISK;
        break;
      case 38:
        this.$ = r3.VerifyType.VERIFY_ANALYSIS;
        break;
      case 39:
        this.$ = r3.VerifyType.VERIFY_DEMONSTRATION;
        break;
      case 40:
        this.$ = r3.VerifyType.VERIFY_INSPECTION;
        break;
      case 41:
        this.$ = r3.VerifyType.VERIFY_TEST;
        break;
      case 42:
        r3.addElement(a3[s3 - 3]);
        break;
      case 43:
        r3.addElement(a3[s3 - 5]), r3.setClass([a3[s3 - 5]], a3[s3 - 3]);
        break;
      case 44:
        r3.setNewElementType(a3[s3 - 2]);
        break;
      case 45:
        r3.setNewElementDocRef(a3[s3 - 2]);
        break;
      case 48:
        r3.addRelationship(a3[s3 - 2], a3[s3], a3[s3 - 4]);
        break;
      case 49:
        r3.addRelationship(a3[s3 - 2], a3[s3 - 4], a3[s3]);
        break;
      case 50:
        this.$ = r3.Relationships.CONTAINS;
        break;
      case 51:
        this.$ = r3.Relationships.COPIES;
        break;
      case 52:
        this.$ = r3.Relationships.DERIVES;
        break;
      case 53:
        this.$ = r3.Relationships.SATISFIES;
        break;
      case 54:
        this.$ = r3.Relationships.VERIFIES;
        break;
      case 55:
        this.$ = r3.Relationships.REFINES;
        break;
      case 56:
        this.$ = r3.Relationships.TRACES;
        break;
      case 57:
        this.$ = a3[s3 - 2], r3.defineClass(a3[s3 - 1], a3[s3]);
        break;
      case 58:
        r3.setClass(a3[s3 - 1], a3[s3]);
        break;
      case 59:
        r3.setClass([a3[s3 - 2]], a3[s3]);
        break;
      case 60:
      case 62:
        this.$ = [a3[s3]];
        break;
      case 61:
      case 63:
        this.$ = a3[s3 - 2].concat([a3[s3]]);
        break;
      case 64:
        this.$ = a3[s3 - 2], r3.setCssStyle(a3[s3 - 1], a3[s3]);
        break;
      case 65:
        this.$ = [a3[s3]];
        break;
      case 66:
        a3[s3 - 2].push(a3[s3]), this.$ = a3[s3 - 2];
        break;
      case 68:
        this.$ = a3[s3 - 1] + a3[s3];
        break;
    }
  }, `anonymous`), table: [{ 3: 1, 4: 2, 6: t2, 9: n2, 11: r2, 13: i2 }, { 1: [3] }, { 3: 8, 4: 2, 5: [1, 7], 6: t2, 9: n2, 11: r2, 13: i2 }, { 5: [1, 9] }, { 10: [1, 10] }, { 12: [1, 11] }, e2(a2, [2, 6]), { 3: 12, 4: 2, 6: t2, 9: n2, 11: r2, 13: i2 }, { 1: [2, 2] }, { 4: 17, 5: o2, 7: 13, 8: s2, 9: n2, 11: r2, 13: i2, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: c2, 22: u2, 23: d2, 24: f2, 25: 23, 33: 25, 41: p2, 42: m2, 43: h2, 44: g2, 45: _2, 46: v2, 54: y2, 72: b2, 74: x2, 77: S2, 89: C, 90: w }, e2(a2, [2, 4]), e2(a2, [2, 5]), { 1: [2, 1] }, { 8: [1, 41] }, { 4: 17, 5: o2, 7: 42, 8: s2, 9: n2, 11: r2, 13: i2, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: c2, 22: u2, 23: d2, 24: f2, 25: 23, 33: 25, 41: p2, 42: m2, 43: h2, 44: g2, 45: _2, 46: v2, 54: y2, 72: b2, 74: x2, 77: S2, 89: C, 90: w }, { 4: 17, 5: o2, 7: 43, 8: s2, 9: n2, 11: r2, 13: i2, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: c2, 22: u2, 23: d2, 24: f2, 25: 23, 33: 25, 41: p2, 42: m2, 43: h2, 44: g2, 45: _2, 46: v2, 54: y2, 72: b2, 74: x2, 77: S2, 89: C, 90: w }, { 4: 17, 5: o2, 7: 44, 8: s2, 9: n2, 11: r2, 13: i2, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: c2, 22: u2, 23: d2, 24: f2, 25: 23, 33: 25, 41: p2, 42: m2, 43: h2, 44: g2, 45: _2, 46: v2, 54: y2, 72: b2, 74: x2, 77: S2, 89: C, 90: w }, { 4: 17, 5: o2, 7: 45, 8: s2, 9: n2, 11: r2, 13: i2, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: c2, 22: u2, 23: d2, 24: f2, 25: 23, 33: 25, 41: p2, 42: m2, 43: h2, 44: g2, 45: _2, 46: v2, 54: y2, 72: b2, 74: x2, 77: S2, 89: C, 90: w }, { 4: 17, 5: o2, 7: 46, 8: s2, 9: n2, 11: r2, 13: i2, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: c2, 22: u2, 23: d2, 24: f2, 25: 23, 33: 25, 41: p2, 42: m2, 43: h2, 44: g2, 45: _2, 46: v2, 54: y2, 72: b2, 74: x2, 77: S2, 89: C, 90: w }, { 4: 17, 5: o2, 7: 47, 8: s2, 9: n2, 11: r2, 13: i2, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: c2, 22: u2, 23: d2, 24: f2, 25: 23, 33: 25, 41: p2, 42: m2, 43: h2, 44: g2, 45: _2, 46: v2, 54: y2, 72: b2, 74: x2, 77: S2, 89: C, 90: w }, { 4: 17, 5: o2, 7: 48, 8: s2, 9: n2, 11: r2, 13: i2, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: c2, 22: u2, 23: d2, 24: f2, 25: 23, 33: 25, 41: p2, 42: m2, 43: h2, 44: g2, 45: _2, 46: v2, 54: y2, 72: b2, 74: x2, 77: S2, 89: C, 90: w }, { 4: 17, 5: o2, 7: 49, 8: s2, 9: n2, 11: r2, 13: i2, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: c2, 22: u2, 23: d2, 24: f2, 25: 23, 33: 25, 41: p2, 42: m2, 43: h2, 44: g2, 45: _2, 46: v2, 54: y2, 72: b2, 74: x2, 77: S2, 89: C, 90: w }, { 4: 17, 5: o2, 7: 50, 8: s2, 9: n2, 11: r2, 13: i2, 14: 14, 15: 15, 16: 16, 17: 18, 18: 19, 19: 20, 20: 21, 21: c2, 22: u2, 23: d2, 24: f2, 25: 23, 33: 25, 41: p2, 42: m2, 43: h2, 44: g2, 45: _2, 46: v2, 54: y2, 72: b2, 74: x2, 77: S2, 89: C, 90: w }, { 26: 51, 89: [1, 52], 90: [1, 53] }, { 55: 54, 89: [1, 55], 90: [1, 56] }, { 29: [1, 59], 61: [1, 57], 63: [1, 58] }, e2(T, [2, 17]), e2(T, [2, 18]), e2(T, [2, 19]), e2(T, [2, 20]), { 30: 60, 33: 62, 75: E, 89: C, 90: w }, { 30: 63, 33: 62, 75: E, 89: C, 90: w }, { 30: 64, 33: 62, 75: E, 89: C, 90: w }, e2(D, [2, 29]), e2(D, [2, 30]), e2(D, [2, 31]), e2(D, [2, 32]), e2(D, [2, 33]), e2(D, [2, 34]), e2(O, [2, 81]), e2(O, [2, 82]), { 1: [2, 3] }, { 8: [2, 8] }, { 8: [2, 9] }, { 8: [2, 10] }, { 8: [2, 11] }, { 8: [2, 12] }, { 8: [2, 13] }, { 8: [2, 14] }, { 8: [2, 15] }, { 8: [2, 16] }, { 27: [1, 65], 29: [1, 66] }, e2(k, [2, 79]), e2(k, [2, 80]), { 27: [1, 67], 29: [1, 68] }, e2(k, [2, 85]), e2(k, [2, 86]), { 62: 69, 65: ee, 66: A, 67: te, 68: ne, 69: re, 70: ie, 71: ae }, { 62: 77, 65: ee, 66: A, 67: te, 68: ne, 69: re, 70: ie, 71: ae }, { 30: 78, 33: 62, 75: E, 89: C, 90: w }, { 73: 79, 75: j, 76: M, 78: 81, 79: 82, 80: N, 81: P, 82: F, 83: I, 84: L, 85: R, 86: z, 87: B, 88: V }, e2(oe, [2, 60]), e2(oe, [2, 62]), { 73: 93, 75: j, 76: M, 78: 81, 79: 82, 80: N, 81: P, 82: F, 83: I, 84: L, 85: R, 86: z, 87: B, 88: V }, { 30: 94, 33: 62, 75: E, 76: M, 89: C, 90: w }, { 5: [1, 95] }, { 30: 96, 33: 62, 75: E, 89: C, 90: w }, { 5: [1, 97] }, { 30: 98, 33: 62, 75: E, 89: C, 90: w }, { 63: [1, 99] }, e2(H, [2, 50]), e2(H, [2, 51]), e2(H, [2, 52]), e2(H, [2, 53]), e2(H, [2, 54]), e2(H, [2, 55]), e2(H, [2, 56]), { 64: [1, 100] }, e2(T, [2, 59], { 76: M }), e2(T, [2, 64], { 76: se }), { 33: 103, 75: [1, 102], 89: C, 90: w }, e2(ce, [2, 65], { 79: 104, 75: j, 80: N, 81: P, 82: F, 83: I, 84: L, 85: R, 86: z, 87: B, 88: V }), e2(U, [2, 67]), e2(U, [2, 69]), e2(U, [2, 70]), e2(U, [2, 71]), e2(U, [2, 72]), e2(U, [2, 73]), e2(U, [2, 74]), e2(U, [2, 75]), e2(U, [2, 76]), e2(U, [2, 77]), e2(U, [2, 78]), e2(T, [2, 57], { 76: se }), e2(T, [2, 58], { 76: M }), { 5: W, 28: 105, 31: G, 34: K, 36: q, 38: J, 40: Y }, { 27: [1, 112], 76: M }, { 5: X, 40: Z, 56: 113, 57: Q, 59: $ }, { 27: [1, 118], 76: M }, { 33: 119, 89: C, 90: w }, { 33: 120, 89: C, 90: w }, { 75: j, 78: 121, 79: 82, 80: N, 81: P, 82: F, 83: I, 84: L, 85: R, 86: z, 87: B, 88: V }, e2(oe, [2, 61]), e2(oe, [2, 63]), e2(U, [2, 68]), e2(T, [2, 21]), { 32: [1, 122] }, { 32: [1, 123] }, { 32: [1, 124] }, { 32: [1, 125] }, { 5: W, 28: 126, 31: G, 34: K, 36: q, 38: J, 40: Y }, e2(T, [2, 28]), { 5: [1, 127] }, e2(T, [2, 42]), { 32: [1, 128] }, { 32: [1, 129] }, { 5: X, 40: Z, 56: 130, 57: Q, 59: $ }, e2(T, [2, 47]), { 5: [1, 131] }, e2(T, [2, 48]), e2(T, [2, 49]), e2(ce, [2, 66], { 79: 104, 75: j, 80: N, 81: P, 82: F, 83: I, 84: L, 85: R, 86: z, 87: B, 88: V }), { 33: 132, 89: C, 90: w }, { 35: 133, 89: [1, 134], 90: [1, 135] }, { 37: 136, 47: [1, 137], 48: [1, 138], 49: [1, 139] }, { 39: 140, 50: [1, 141], 51: [1, 142], 52: [1, 143], 53: [1, 144] }, e2(T, [2, 27]), { 5: W, 28: 145, 31: G, 34: K, 36: q, 38: J, 40: Y }, { 58: 146, 89: [1, 147], 90: [1, 148] }, { 60: 149, 89: [1, 150], 90: [1, 151] }, e2(T, [2, 46]), { 5: X, 40: Z, 56: 152, 57: Q, 59: $ }, { 5: [1, 153] }, { 5: [1, 154] }, { 5: [2, 83] }, { 5: [2, 84] }, { 5: [1, 155] }, { 5: [2, 35] }, { 5: [2, 36] }, { 5: [2, 37] }, { 5: [1, 156] }, { 5: [2, 38] }, { 5: [2, 39] }, { 5: [2, 40] }, { 5: [2, 41] }, e2(T, [2, 22]), { 5: [1, 157] }, { 5: [2, 87] }, { 5: [2, 88] }, { 5: [1, 158] }, { 5: [2, 89] }, { 5: [2, 90] }, e2(T, [2, 43]), { 5: W, 28: 159, 31: G, 34: K, 36: q, 38: J, 40: Y }, { 5: W, 28: 160, 31: G, 34: K, 36: q, 38: J, 40: Y }, { 5: W, 28: 161, 31: G, 34: K, 36: q, 38: J, 40: Y }, { 5: W, 28: 162, 31: G, 34: K, 36: q, 38: J, 40: Y }, { 5: X, 40: Z, 56: 163, 57: Q, 59: $ }, { 5: X, 40: Z, 56: 164, 57: Q, 59: $ }, e2(T, [2, 23]), e2(T, [2, 24]), e2(T, [2, 25]), e2(T, [2, 26]), e2(T, [2, 44]), e2(T, [2, 45])], defaultActions: { 8: [2, 2], 12: [2, 1], 41: [2, 3], 42: [2, 8], 43: [2, 9], 44: [2, 10], 45: [2, 11], 46: [2, 12], 47: [2, 13], 48: [2, 14], 49: [2, 15], 50: [2, 16], 134: [2, 83], 135: [2, 84], 137: [2, 35], 138: [2, 36], 139: [2, 37], 141: [2, 38], 142: [2, 39], 143: [2, 40], 144: [2, 41], 147: [2, 87], 148: [2, 88], 150: [2, 89], 151: [2, 90] }, parseError: l(function(e3, t3) {
    if (t3.recoverable) this.trace(e3);
    else {
      var n3 = Error(e3);
      throw n3.hash = t3, n3;
    }
  }, `parseError`), parse: l(function(e3) {
    var t3 = this, n3 = [0], r3 = [], i3 = [null], a3 = [], o3 = this.table, s3 = ``, c3 = 0, u3 = 0, d3 = 0, f3 = 2, p3 = 1, m3 = a3.slice.call(arguments, 1), h3 = Object.create(this.lexer), g3 = { yy: {} };
    for (var _3 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, _3) && (g3.yy[_3] = this.yy[_3]);
    h3.setInput(e3, g3.yy), g3.yy.lexer = h3, g3.yy.parser = this, h3.yylloc === void 0 && (h3.yylloc = {});
    var v3 = h3.yylloc;
    a3.push(v3);
    var y3 = h3.options && h3.options.ranges;
    typeof g3.yy.parseError == `function` ? this.parseError = g3.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError;
    function b3(e4) {
      n3.length -= 2 * e4, i3.length -= e4, a3.length -= e4;
    }
    l(b3, `popStack`);
    function x3() {
      var e4 = r3.pop() || h3.lex() || p3;
      return typeof e4 != `number` && (e4 instanceof Array && (r3 = e4, e4 = r3.pop()), e4 = t3.symbols_[e4] || e4), e4;
    }
    l(x3, `lex`);
    for (var S3, C2, w2, T2, E2, D2 = {}, O2, k2, ee2, A2; ; ) {
      if (w2 = n3[n3.length - 1], this.defaultActions[w2] ? T2 = this.defaultActions[w2] : (S3 ?? (S3 = x3()), T2 = o3[w2] && o3[w2][S3]), T2 === void 0 || !T2.length || !T2[0]) {
        var te2 = ``;
        for (O2 in A2 = [], o3[w2]) this.terminals_[O2] && O2 > f3 && A2.push(`'` + this.terminals_[O2] + `'`);
        te2 = h3.showPosition ? `Parse error on line ` + (c3 + 1) + `:
` + h3.showPosition() + `
Expecting ` + A2.join(`, `) + `, got '` + (this.terminals_[S3] || S3) + `'` : `Parse error on line ` + (c3 + 1) + `: Unexpected ` + (S3 == p3 ? `end of input` : `'` + (this.terminals_[S3] || S3) + `'`), this.parseError(te2, { text: h3.match, token: this.terminals_[S3] || S3, line: h3.yylineno, loc: v3, expected: A2 });
      }
      if (T2[0] instanceof Array && T2.length > 1) throw Error(`Parse Error: multiple actions possible at state: ` + w2 + `, token: ` + S3);
      switch (T2[0]) {
        case 1:
          n3.push(S3), i3.push(h3.yytext), a3.push(h3.yylloc), n3.push(T2[1]), S3 = null, C2 ? (S3 = C2, C2 = null) : (u3 = h3.yyleng, s3 = h3.yytext, c3 = h3.yylineno, v3 = h3.yylloc, d3 > 0 && d3--);
          break;
        case 2:
          if (k2 = this.productions_[T2[1]][1], D2.$ = i3[i3.length - k2], D2._$ = { first_line: a3[a3.length - (k2 || 1)].first_line, last_line: a3[a3.length - 1].last_line, first_column: a3[a3.length - (k2 || 1)].first_column, last_column: a3[a3.length - 1].last_column }, y3 && (D2._$.range = [a3[a3.length - (k2 || 1)].range[0], a3[a3.length - 1].range[1]]), E2 = this.performAction.apply(D2, [s3, u3, c3, g3.yy, T2[1], i3, a3].concat(m3)), E2 !== void 0) return E2;
          k2 && (n3 = n3.slice(0, -1 * k2 * 2), i3 = i3.slice(0, -1 * k2), a3 = a3.slice(0, -1 * k2)), n3.push(this.productions_[T2[1]][0]), i3.push(D2.$), a3.push(D2._$), ee2 = o3[n3[n3.length - 2]][n3[n3.length - 1]], n3.push(ee2);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, `parse`) };
  le.lexer = (function() {
    return { EOF: 1, parseError: l(function(e3, t3) {
      if (this.yy.parser) this.yy.parser.parseError(e3, t3);
      else throw Error(e3);
    }, `parseError`), setInput: l(function(e3, t3) {
      return this.yy = t3 || this.yy || {}, this._input = e3, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = ``, this.conditionStack = [`INITIAL`], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
    }, `setInput`), input: l(function() {
      var e3 = this._input[0];
      return this.yytext += e3, this.yyleng++, this.offset++, this.match += e3, this.matched += e3, e3.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e3;
    }, `input`), unput: l(function(e3) {
      var t3 = e3.length, n3 = e3.split(/(?:\r\n?|\n)/g);
      this._input = e3 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t3), this.offset -= t3;
      var r3 = this.match.split(/(?:\r\n?|\n)/g);
      this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), n3.length - 1 && (this.yylineno -= n3.length - 1);
      var i3 = this.yylloc.range;
      return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: n3 ? (n3.length === r3.length ? this.yylloc.first_column : 0) + r3[r3.length - n3.length].length - n3[0].length : this.yylloc.first_column - t3 }, this.options.ranges && (this.yylloc.range = [i3[0], i3[0] + this.yyleng - t3]), this.yyleng = this.yytext.length, this;
    }, `unput`), more: l(function() {
      return this._more = true, this;
    }, `more`), reject: l(function() {
      if (this.options.backtrack_lexer) this._backtrack = true;
      else return this.parseError(`Lexical error on line ` + (this.yylineno + 1) + `. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
` + this.showPosition(), { text: ``, token: null, line: this.yylineno });
      return this;
    }, `reject`), less: l(function(e3) {
      this.unput(this.match.slice(e3));
    }, `less`), pastInput: l(function() {
      var e3 = this.matched.substr(0, this.matched.length - this.match.length);
      return (e3.length > 20 ? `...` : ``) + e3.substr(-20).replace(/\n/g, ``);
    }, `pastInput`), upcomingInput: l(function() {
      var e3 = this.match;
      return e3.length < 20 && (e3 += this._input.substr(0, 20 - e3.length)), (e3.substr(0, 20) + (e3.length > 20 ? `...` : ``)).replace(/\n/g, ``);
    }, `upcomingInput`), showPosition: l(function() {
      var e3 = this.pastInput(), t3 = Array(e3.length + 1).join(`-`);
      return e3 + this.upcomingInput() + `
` + t3 + `^`;
    }, `showPosition`), test_match: l(function(e3, t3) {
      var n3, r3, i3;
      if (this.options.backtrack_lexer && (i3 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i3.yylloc.range = this.yylloc.range.slice(0))), r3 = e3[0].match(/(?:\r\n?|\n).*/g), r3 && (this.yylineno += r3.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: r3 ? r3[r3.length - 1].length - r3[r3.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e3[0].length }, this.yytext += e3[0], this.match += e3[0], this.matches = e3, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e3[0].length), this.matched += e3[0], n3 = this.performAction.call(this, this.yy, this, t3, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), n3) return n3;
      if (this._backtrack) {
        for (var a3 in i3) this[a3] = i3[a3];
        return false;
      }
      return false;
    }, `test_match`), next: l(function() {
      if (this.done) return this.EOF;
      this._input || (this.done = true);
      var e3, t3, n3, r3;
      this._more || (this.yytext = ``, this.match = ``);
      for (var i3 = this._currentRules(), a3 = 0; a3 < i3.length; a3++) if (n3 = this._input.match(this.rules[i3[a3]]), n3 && (!t3 || n3[0].length > t3[0].length)) {
        if (t3 = n3, r3 = a3, this.options.backtrack_lexer) {
          if (e3 = this.test_match(n3, i3[a3]), e3 !== false) return e3;
          if (this._backtrack) {
            t3 = false;
            continue;
          } else return false;
        } else if (!this.options.flex) break;
      }
      return t3 ? (e3 = this.test_match(t3, i3[r3]), e3 === false ? false : e3) : this._input === `` ? this.EOF : this.parseError(`Lexical error on line ` + (this.yylineno + 1) + `. Unrecognized text.
` + this.showPosition(), { text: ``, token: null, line: this.yylineno });
    }, `next`), lex: l(function() {
      return this.next() || this.lex();
    }, `lex`), begin: l(function(e3) {
      this.conditionStack.push(e3);
    }, `begin`), popState: l(function() {
      return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
    }, `popState`), _currentRules: l(function() {
      return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
    }, `_currentRules`), topState: l(function(e3) {
      return e3 = this.conditionStack.length - 1 - Math.abs(e3 || 0), e3 >= 0 ? this.conditionStack[e3] : `INITIAL`;
    }, `topState`), pushState: l(function(e3) {
      this.begin(e3);
    }, `pushState`), stateStackSize: l(function() {
      return this.conditionStack.length;
    }, `stateStackSize`), options: { "case-insensitive": true }, performAction: l(function(e3, t3, n3, r3) {
      switch (n3) {
        case 0:
          return `title`;
        case 1:
          return this.begin(`acc_title`), 9;
        case 2:
          return this.popState(), `acc_title_value`;
        case 3:
          return this.begin(`acc_descr`), 11;
        case 4:
          return this.popState(), `acc_descr_value`;
        case 5:
          this.begin(`acc_descr_multiline`);
          break;
        case 6:
          this.popState();
          break;
        case 7:
          return `acc_descr_multiline_value`;
        case 8:
          return 21;
        case 9:
          return 22;
        case 10:
          return 23;
        case 11:
          return 24;
        case 12:
          return 5;
        case 13:
          break;
        case 14:
          break;
        case 15:
          break;
        case 16:
          return 8;
        case 17:
          return 6;
        case 18:
          return 27;
        case 19:
          return 40;
        case 20:
          return 29;
        case 21:
          return 32;
        case 22:
          return 31;
        case 23:
          return 34;
        case 24:
          return 36;
        case 25:
          return 38;
        case 26:
          return 41;
        case 27:
          return 42;
        case 28:
          return 43;
        case 29:
          return 44;
        case 30:
          return 45;
        case 31:
          return 46;
        case 32:
          return 47;
        case 33:
          return 48;
        case 34:
          return 49;
        case 35:
          return 50;
        case 36:
          return 51;
        case 37:
          return 52;
        case 38:
          return 53;
        case 39:
          return 54;
        case 40:
          return 65;
        case 41:
          return 66;
        case 42:
          return 67;
        case 43:
          return 68;
        case 44:
          return 69;
        case 45:
          return 70;
        case 46:
          return 71;
        case 47:
          return 57;
        case 48:
          return 59;
        case 49:
          return this.begin(`style`), 77;
        case 50:
          return 75;
        case 51:
          return 81;
        case 52:
          return 88;
        case 53:
          return `PERCENT`;
        case 54:
          return 86;
        case 55:
          return 84;
        case 56:
          break;
        case 57:
          this.begin(`string`);
          break;
        case 58:
          this.popState();
          break;
        case 59:
          return this.begin(`style`), 72;
        case 60:
          return this.begin(`style`), 74;
        case 61:
          return 61;
        case 62:
          return 64;
        case 63:
          return 63;
        case 64:
          this.begin(`string`);
          break;
        case 65:
          this.popState();
          break;
        case 66:
          return `qString`;
        case 67:
          return t3.yytext = t3.yytext.trim(), 89;
        case 68:
          return 75;
        case 69:
          return 80;
        case 70:
          return 76;
      }
    }, `anonymous`), rules: [/^(?:title\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:.*direction\s+TB[^\n]*)/i, /^(?:.*direction\s+BT[^\n]*)/i, /^(?:.*direction\s+RL[^\n]*)/i, /^(?:.*direction\s+LR[^\n]*)/i, /^(?:(\r?\n)+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:$)/i, /^(?:requirementDiagram\b)/i, /^(?:\{)/i, /^(?:\})/i, /^(?::{3})/i, /^(?::)/i, /^(?:id\b)/i, /^(?:text\b)/i, /^(?:risk\b)/i, /^(?:verifyMethod\b)/i, /^(?:requirement\b)/i, /^(?:functionalRequirement\b)/i, /^(?:interfaceRequirement\b)/i, /^(?:performanceRequirement\b)/i, /^(?:physicalRequirement\b)/i, /^(?:designConstraint\b)/i, /^(?:low\b)/i, /^(?:medium\b)/i, /^(?:high\b)/i, /^(?:analysis\b)/i, /^(?:demonstration\b)/i, /^(?:inspection\b)/i, /^(?:test\b)/i, /^(?:element\b)/i, /^(?:contains\b)/i, /^(?:copies\b)/i, /^(?:derives\b)/i, /^(?:satisfies\b)/i, /^(?:verifies\b)/i, /^(?:refines\b)/i, /^(?:traces\b)/i, /^(?:type\b)/i, /^(?:docref\b)/i, /^(?:style\b)/i, /^(?:\w+)/i, /^(?::)/i, /^(?:;)/i, /^(?:%)/i, /^(?:-)/i, /^(?:#)/i, /^(?: )/i, /^(?:["])/i, /^(?:\n)/i, /^(?:classDef\b)/i, /^(?:class\b)/i, /^(?:<-)/i, /^(?:->)/i, /^(?:-)/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[\w][^:,\r\n\{\<\>\-\=]*)/i, /^(?:\w+)/i, /^(?:[0-9]+)/i, /^(?:,)/i], conditions: { acc_descr_multiline: { rules: [6, 7, 68, 69, 70], inclusive: false }, acc_descr: { rules: [4, 68, 69, 70], inclusive: false }, acc_title: { rules: [2, 68, 69, 70], inclusive: false }, style: { rules: [50, 51, 52, 53, 54, 55, 56, 57, 58, 68, 69, 70], inclusive: false }, unqString: { rules: [68, 69, 70], inclusive: false }, token: { rules: [68, 69, 70], inclusive: false }, string: { rules: [65, 66, 68, 69, 70], inclusive: false }, INITIAL: { rules: [0, 1, 3, 5, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 59, 60, 61, 62, 63, 64, 67, 68, 69, 70], inclusive: true } } };
  })();
  function ue() {
    this.yy = {};
  }
  return l(ue, `Parser`), ue.prototype = le, le.Parser = ue, new ue();
})();
g.parser = g;
var _ = g, v = (_a = class {
  constructor() {
    this.relations = [], this.latestRequirement = this.getInitialRequirement(), this.requirements = /* @__PURE__ */ new Map(), this.latestElement = this.getInitialElement(), this.elements = /* @__PURE__ */ new Map(), this.classes = /* @__PURE__ */ new Map(), this.direction = `TB`, this.RequirementType = { REQUIREMENT: `Requirement`, FUNCTIONAL_REQUIREMENT: `Functional Requirement`, INTERFACE_REQUIREMENT: `Interface Requirement`, PERFORMANCE_REQUIREMENT: `Performance Requirement`, PHYSICAL_REQUIREMENT: `Physical Requirement`, DESIGN_CONSTRAINT: `Design Constraint` }, this.RiskLevel = { LOW_RISK: `Low`, MED_RISK: `Medium`, HIGH_RISK: `High` }, this.VerifyType = { VERIFY_ANALYSIS: `Analysis`, VERIFY_DEMONSTRATION: `Demonstration`, VERIFY_INSPECTION: `Inspection`, VERIFY_TEST: `Test` }, this.Relationships = { CONTAINS: `contains`, COPIES: `copies`, DERIVES: `derives`, SATISFIES: `satisfies`, VERIFIES: `verifies`, REFINES: `refines`, TRACES: `traces` }, this.setAccTitle = e, this.getAccTitle = o, this.setAccDescription = s, this.getAccDescription = r, this.setDiagramTitle = n, this.getDiagramTitle = t, this.getConfig = l(() => a().requirement, `getConfig`), this.clear(), this.setDirection = this.setDirection.bind(this), this.addRequirement = this.addRequirement.bind(this), this.setNewReqId = this.setNewReqId.bind(this), this.setNewReqRisk = this.setNewReqRisk.bind(this), this.setNewReqText = this.setNewReqText.bind(this), this.setNewReqVerifyMethod = this.setNewReqVerifyMethod.bind(this), this.addElement = this.addElement.bind(this), this.setNewElementType = this.setNewElementType.bind(this), this.setNewElementDocRef = this.setNewElementDocRef.bind(this), this.addRelationship = this.addRelationship.bind(this), this.setCssStyle = this.setCssStyle.bind(this), this.setClass = this.setClass.bind(this), this.defineClass = this.defineClass.bind(this), this.setAccTitle = this.setAccTitle.bind(this), this.setAccDescription = this.setAccDescription.bind(this);
  }
  getDirection() {
    return this.direction;
  }
  setDirection(e2) {
    this.direction = e2;
  }
  resetLatestRequirement() {
    this.latestRequirement = this.getInitialRequirement();
  }
  resetLatestElement() {
    this.latestElement = this.getInitialElement();
  }
  getInitialRequirement() {
    return { requirementId: ``, text: ``, risk: ``, verifyMethod: ``, name: ``, type: ``, cssStyles: [], classes: [`default`] };
  }
  getInitialElement() {
    return { name: ``, type: ``, docRef: ``, cssStyles: [], classes: [`default`] };
  }
  addRequirement(e2, t2) {
    return this.requirements.has(e2) || this.requirements.set(e2, { name: e2, type: t2, requirementId: this.latestRequirement.requirementId, text: this.latestRequirement.text, risk: this.latestRequirement.risk, verifyMethod: this.latestRequirement.verifyMethod, cssStyles: [], classes: [`default`] }), this.resetLatestRequirement(), this.requirements.get(e2);
  }
  getRequirements() {
    return this.requirements;
  }
  setNewReqId(e2) {
    this.latestRequirement !== void 0 && (this.latestRequirement.requirementId = e2);
  }
  setNewReqText(e2) {
    this.latestRequirement !== void 0 && (this.latestRequirement.text = e2);
  }
  setNewReqRisk(e2) {
    this.latestRequirement !== void 0 && (this.latestRequirement.risk = e2);
  }
  setNewReqVerifyMethod(e2) {
    this.latestRequirement !== void 0 && (this.latestRequirement.verifyMethod = e2);
  }
  addElement(e2) {
    return this.elements.has(e2) || (this.elements.set(e2, { name: e2, type: this.latestElement.type, docRef: this.latestElement.docRef, cssStyles: [], classes: [`default`] }), c.info(`Added new element: `, e2)), this.resetLatestElement(), this.elements.get(e2);
  }
  getElements() {
    return this.elements;
  }
  setNewElementType(e2) {
    this.latestElement !== void 0 && (this.latestElement.type = e2);
  }
  setNewElementDocRef(e2) {
    this.latestElement !== void 0 && (this.latestElement.docRef = e2);
  }
  addRelationship(e2, t2, n2) {
    this.relations.push({ type: e2, src: t2, dst: n2 });
  }
  getRelationships() {
    return this.relations;
  }
  clear() {
    this.relations = [], this.resetLatestRequirement(), this.requirements = /* @__PURE__ */ new Map(), this.resetLatestElement(), this.elements = /* @__PURE__ */ new Map(), this.classes = /* @__PURE__ */ new Map(), i();
  }
  setCssStyle(e2, t2) {
    for (let n2 of e2) {
      let e3 = this.requirements.get(n2) ?? this.elements.get(n2);
      if (!t2 || !e3) return;
      for (let n3 of t2) n3.includes(`,`) ? e3.cssStyles.push(...n3.split(`,`)) : e3.cssStyles.push(n3);
    }
  }
  setClass(e2, t2) {
    var _a2;
    for (let n2 of e2) {
      let e3 = this.requirements.get(n2) ?? this.elements.get(n2);
      if (e3) for (let n3 of t2) {
        e3.classes.push(n3);
        let t3 = (_a2 = this.classes.get(n3)) == null ? void 0 : _a2.styles;
        t3 && e3.cssStyles.push(...t3);
      }
    }
  }
  defineClass(e2, t2) {
    for (let n2 of e2) {
      let e3 = this.classes.get(n2);
      e3 === void 0 && (e3 = { id: n2, styles: [], textStyles: [] }, this.classes.set(n2, e3)), t2 && t2.forEach(function(t3) {
        if (/color/.exec(t3)) {
          let n3 = t3.replace(`fill`, `bgFill`);
          e3.textStyles.push(n3);
        }
        e3.styles.push(t3);
      }), this.requirements.forEach((e4) => {
        e4.classes.includes(n2) && e4.cssStyles.push(...t2.flatMap((e5) => e5.split(`,`)));
      }), this.elements.forEach((e4) => {
        e4.classes.includes(n2) && e4.cssStyles.push(...t2.flatMap((e5) => e5.split(`,`)));
      });
    }
  }
  getClasses() {
    return this.classes;
  }
  getData() {
    var _a2, _b, _c, _d;
    let e2 = a(), t2 = [], n2 = [];
    for (let n3 of this.requirements.values()) {
      let r2 = n3;
      r2.id = n3.name, r2.cssStyles = n3.cssStyles, r2.cssClasses = n3.classes.join(` `), r2.shape = `requirementBox`, r2.look = e2.look, t2.push(r2);
    }
    for (let n3 of this.elements.values()) {
      let r2 = n3;
      r2.shape = `requirementBox`, r2.look = e2.look, r2.id = n3.name, r2.cssStyles = n3.cssStyles, r2.cssClasses = n3.classes.join(` `), t2.push(r2);
    }
    for (let t3 of this.relations) {
      let r2 = 0, i2 = t3.type === this.Relationships.CONTAINS, a2 = { id: `${t3.src}-${t3.dst}-${r2}`, start: ((_a2 = this.requirements.get(t3.src)) == null ? void 0 : _a2.name) ?? ((_b = this.elements.get(t3.src)) == null ? void 0 : _b.name), end: ((_c = this.requirements.get(t3.dst)) == null ? void 0 : _c.name) ?? ((_d = this.elements.get(t3.dst)) == null ? void 0 : _d.name), label: `&lt;&lt;${t3.type}&gt;&gt;`, classes: `relationshipLine`, style: [`fill:none`, i2 ? `` : `stroke-dasharray: 10,7`], labelpos: `c`, thickness: `normal`, type: `normal`, pattern: i2 ? `normal` : `dashed`, arrowTypeStart: i2 ? `requirement_contains` : ``, arrowTypeEnd: i2 ? `` : `requirement_arrow`, look: e2.look };
      n2.push(a2), r2++;
    }
    return { nodes: t2, edges: n2, other: {}, config: e2, direction: this.getDirection() };
  }
}, l(_a, `RequirementDB`), _a), y = l((e2) => `

  marker {
    fill: ${e2.relationColor};
    stroke: ${e2.relationColor};
  }

  marker.cross {
    stroke: ${e2.lineColor};
  }

  svg {
    font-family: ${e2.fontFamily};
    font-size: ${e2.fontSize};
  }

  .reqBox {
    fill: ${e2.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e2.requirementBorderColor};
    stroke-width: ${e2.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e2.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e2.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e2.requirementBorderColor};
    stroke-width: ${e2.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e2.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e2.relationLabelColor};
  }
  .divider {
    stroke: ${e2.nodeBorder};
    stroke-width: 1;
  }
  .label {
    font-family: ${e2.fontFamily};
    color: ${e2.nodeTextColor || e2.textColor};
  }
  .label text,span {
    fill: ${e2.nodeTextColor || e2.textColor};
    color: ${e2.nodeTextColor || e2.textColor};
  }
  .labelBkg {
    background-color: ${e2.edgeLabelBackground};
  }

`, `getStyles`), b = {};
u(b, { draw: () => x });
var x = l(async function(e2, t2, n2, r2) {
  c.info(`REF0:`), c.info(`Drawing requirement diagram (unified)`, t2);
  let { securityLevel: i2, state: o2, layout: s2 } = a(), l2 = r2.db.getData(), u2 = m(t2, i2);
  l2.type = r2.type, l2.layoutAlgorithm = p(s2), l2.nodeSpacing = (o2 == null ? void 0 : o2.nodeSpacing) ?? 50, l2.rankSpacing = (o2 == null ? void 0 : o2.rankSpacing) ?? 50, l2.markers = [`requirement_contains`, `requirement_arrow`], l2.diagramId = t2, await f(l2, u2), d.insertTitle(u2, `requirementDiagramTitleText`, (o2 == null ? void 0 : o2.titleTopMargin) ?? 25, r2.db.getDiagramTitle()), h(u2, 8, `requirementDiagram`, (o2 == null ? void 0 : o2.useMaxWidth) ?? true);
}, `draw`), S = { parser: _, get db() {
  return new v();
}, renderer: b, styles: y };
export {
  S as diagram
};

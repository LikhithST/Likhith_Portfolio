var _a, _b;
import { B as e, C as t, I as n, T as r, U as i, _ as a, a as o, b as s, c, d as l, v as u, z as d } from "./chunk-ABZYJK2D-ODb6qSou.js";
import { g as f, h as p, p as m } from "./src-D8UWkQNo.js";
import { t as h } from "./linear-D5Odbd3G.js";
import "./defaultLocale-Dzu6vUN4.js";
import "./init-BBmXJqXp.js";
var g = (function() {
  var e2 = p(function(e3, t3, n3, r3) {
    for (n3 || (n3 = {}), r3 = e3.length; r3--; n3[e3[r3]] = t3) ;
    return n3;
  }, `o`), t2 = [1, 3], n2 = [1, 4], r2 = [1, 5], i2 = [1, 6], a2 = [1, 7], o2 = [1, 4, 5, 10, 12, 13, 14, 18, 25, 35, 37, 39, 41, 42, 48, 50, 51, 52, 53, 54, 55, 56, 57, 60, 61, 63, 64, 65, 66, 67], s2 = [1, 4, 5, 10, 12, 13, 14, 18, 25, 28, 35, 37, 39, 41, 42, 48, 50, 51, 52, 53, 54, 55, 56, 57, 60, 61, 63, 64, 65, 66, 67], c2 = [55, 56, 57], l2 = [2, 36], u2 = [1, 37], d2 = [1, 36], f2 = [1, 38], m2 = [1, 35], h2 = [1, 43], g2 = [1, 41], _2 = [1, 14], v2 = [1, 23], y2 = [1, 18], b2 = [1, 19], x2 = [1, 20], S2 = [1, 21], C2 = [1, 22], w2 = [1, 24], T2 = [1, 25], E2 = [1, 26], D2 = [1, 27], O2 = [1, 28], k2 = [1, 29], A2 = [1, 32], j2 = [1, 33], M2 = [1, 34], N2 = [1, 39], P2 = [1, 40], F2 = [1, 42], I2 = [1, 44], L2 = [1, 62], R2 = [1, 61], z2 = [4, 5, 8, 10, 12, 13, 14, 18, 44, 47, 49, 55, 56, 57, 63, 64, 65, 66, 67], B2 = [1, 65], ee2 = [1, 66], te = [1, 67], ne = [1, 68], re = [1, 69], ie = [1, 70], ae = [1, 71], oe = [1, 72], se = [1, 73], ce = [1, 74], le = [1, 75], ue = [1, 76], V = [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 18], H = [1, 90], U = [1, 91], W = [1, 92], G = [1, 99], K = [1, 93], q = [1, 96], J = [1, 94], Y = [1, 95], X = [1, 97], Z = [1, 98], de = [1, 102], fe = [10, 55, 56, 57], Q = [4, 5, 6, 8, 10, 11, 13, 17, 18, 19, 20, 55, 56, 57], pe = { trace: p(function() {
  }, `trace`), yy: {}, symbols_: { error: 2, idStringToken: 3, ALPHA: 4, NUM: 5, NODE_STRING: 6, DOWN: 7, MINUS: 8, DEFAULT: 9, COMMA: 10, COLON: 11, AMP: 12, BRKT: 13, MULT: 14, UNICODE_TEXT: 15, styleComponent: 16, UNIT: 17, SPACE: 18, STYLE: 19, PCT: 20, idString: 21, style: 22, stylesOpt: 23, classDefStatement: 24, CLASSDEF: 25, start: 26, eol: 27, QUADRANT: 28, document: 29, line: 30, statement: 31, axisDetails: 32, quadrantDetails: 33, points: 34, title: 35, title_value: 36, acc_title: 37, acc_title_value: 38, acc_descr: 39, acc_descr_value: 40, acc_descr_multiline_value: 41, section: 42, text: 43, point_start: 44, point_x: 45, point_y: 46, class_name: 47, "X-AXIS": 48, "AXIS-TEXT-DELIMITER": 49, "Y-AXIS": 50, QUADRANT_1: 51, QUADRANT_2: 52, QUADRANT_3: 53, QUADRANT_4: 54, NEWLINE: 55, SEMI: 56, EOF: 57, alphaNumToken: 58, textNoTagsToken: 59, STR: 60, MD_STR: 61, alphaNum: 62, PUNCTUATION: 63, PLUS: 64, EQUALS: 65, DOT: 66, UNDERSCORE: 67, $accept: 0, $end: 1 }, terminals_: { 2: `error`, 4: `ALPHA`, 5: `NUM`, 6: `NODE_STRING`, 7: `DOWN`, 8: `MINUS`, 9: `DEFAULT`, 10: `COMMA`, 11: `COLON`, 12: `AMP`, 13: `BRKT`, 14: `MULT`, 15: `UNICODE_TEXT`, 17: `UNIT`, 18: `SPACE`, 19: `STYLE`, 20: `PCT`, 25: `CLASSDEF`, 28: `QUADRANT`, 35: `title`, 36: `title_value`, 37: `acc_title`, 38: `acc_title_value`, 39: `acc_descr`, 40: `acc_descr_value`, 41: `acc_descr_multiline_value`, 42: `section`, 44: `point_start`, 45: `point_x`, 46: `point_y`, 47: `class_name`, 48: `X-AXIS`, 49: `AXIS-TEXT-DELIMITER`, 50: `Y-AXIS`, 51: `QUADRANT_1`, 52: `QUADRANT_2`, 53: `QUADRANT_3`, 54: `QUADRANT_4`, 55: `NEWLINE`, 56: `SEMI`, 57: `EOF`, 60: `STR`, 61: `MD_STR`, 63: `PUNCTUATION`, 64: `PLUS`, 65: `EQUALS`, 66: `DOT`, 67: `UNDERSCORE` }, productions_: [0, [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [3, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [21, 1], [21, 2], [22, 1], [22, 2], [23, 1], [23, 3], [24, 5], [26, 2], [26, 2], [26, 2], [29, 0], [29, 2], [30, 2], [31, 0], [31, 1], [31, 2], [31, 1], [31, 1], [31, 1], [31, 2], [31, 2], [31, 2], [31, 1], [31, 1], [34, 4], [34, 5], [34, 5], [34, 6], [32, 4], [32, 3], [32, 2], [32, 4], [32, 3], [32, 2], [33, 2], [33, 2], [33, 2], [33, 2], [27, 1], [27, 1], [27, 1], [43, 1], [43, 2], [43, 1], [43, 1], [62, 1], [62, 2], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [58, 1], [59, 1], [59, 1], [59, 1]], performAction: p(function(e3, t3, n3, r3, i3, a3, o3) {
    var s3 = a3.length - 1;
    switch (i3) {
      case 23:
        this.$ = a3[s3];
        break;
      case 24:
        this.$ = a3[s3 - 1] + `` + a3[s3];
        break;
      case 26:
        this.$ = a3[s3 - 1] + a3[s3];
        break;
      case 27:
        this.$ = [a3[s3].trim()];
        break;
      case 28:
        a3[s3 - 2].push(a3[s3].trim()), this.$ = a3[s3 - 2];
        break;
      case 29:
        this.$ = a3[s3 - 4], r3.addClass(a3[s3 - 2], a3[s3]);
        break;
      case 37:
        this.$ = [];
        break;
      case 42:
        this.$ = a3[s3].trim(), r3.setDiagramTitle(this.$);
        break;
      case 43:
        this.$ = a3[s3].trim(), r3.setAccTitle(this.$);
        break;
      case 44:
      case 45:
        this.$ = a3[s3].trim(), r3.setAccDescription(this.$);
        break;
      case 46:
        r3.addSection(a3[s3].substr(8)), this.$ = a3[s3].substr(8);
        break;
      case 47:
        r3.addPoint(a3[s3 - 3], ``, a3[s3 - 1], a3[s3], []);
        break;
      case 48:
        r3.addPoint(a3[s3 - 4], a3[s3 - 3], a3[s3 - 1], a3[s3], []);
        break;
      case 49:
        r3.addPoint(a3[s3 - 4], ``, a3[s3 - 2], a3[s3 - 1], a3[s3]);
        break;
      case 50:
        r3.addPoint(a3[s3 - 5], a3[s3 - 4], a3[s3 - 2], a3[s3 - 1], a3[s3]);
        break;
      case 51:
        r3.setXAxisLeftText(a3[s3 - 2]), r3.setXAxisRightText(a3[s3]);
        break;
      case 52:
        a3[s3 - 1].text += ` \u27F6 `, r3.setXAxisLeftText(a3[s3 - 1]);
        break;
      case 53:
        r3.setXAxisLeftText(a3[s3]);
        break;
      case 54:
        r3.setYAxisBottomText(a3[s3 - 2]), r3.setYAxisTopText(a3[s3]);
        break;
      case 55:
        a3[s3 - 1].text += ` \u27F6 `, r3.setYAxisBottomText(a3[s3 - 1]);
        break;
      case 56:
        r3.setYAxisBottomText(a3[s3]);
        break;
      case 57:
        r3.setQuadrant1Text(a3[s3]);
        break;
      case 58:
        r3.setQuadrant2Text(a3[s3]);
        break;
      case 59:
        r3.setQuadrant3Text(a3[s3]);
        break;
      case 60:
        r3.setQuadrant4Text(a3[s3]);
        break;
      case 64:
        this.$ = { text: a3[s3], type: `text` };
        break;
      case 65:
        this.$ = { text: a3[s3 - 1].text + `` + a3[s3], type: a3[s3 - 1].type };
        break;
      case 66:
        this.$ = { text: a3[s3], type: `text` };
        break;
      case 67:
        this.$ = { text: a3[s3], type: `markdown` };
        break;
      case 68:
        this.$ = a3[s3];
        break;
      case 69:
        this.$ = a3[s3 - 1] + `` + a3[s3];
        break;
    }
  }, `anonymous`), table: [{ 18: t2, 26: 1, 27: 2, 28: n2, 55: r2, 56: i2, 57: a2 }, { 1: [3] }, { 18: t2, 26: 8, 27: 2, 28: n2, 55: r2, 56: i2, 57: a2 }, { 18: t2, 26: 9, 27: 2, 28: n2, 55: r2, 56: i2, 57: a2 }, e2(o2, [2, 33], { 29: 10 }), e2(s2, [2, 61]), e2(s2, [2, 62]), e2(s2, [2, 63]), { 1: [2, 30] }, { 1: [2, 31] }, e2(c2, l2, { 30: 11, 31: 12, 24: 13, 32: 15, 33: 16, 34: 17, 43: 30, 58: 31, 1: [2, 32], 4: u2, 5: d2, 10: f2, 12: m2, 13: h2, 14: g2, 18: _2, 25: v2, 35: y2, 37: b2, 39: x2, 41: S2, 42: C2, 48: w2, 50: T2, 51: E2, 52: D2, 53: O2, 54: k2, 60: A2, 61: j2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }), e2(o2, [2, 34]), { 27: 45, 55: r2, 56: i2, 57: a2 }, e2(c2, [2, 37]), e2(c2, l2, { 24: 13, 32: 15, 33: 16, 34: 17, 43: 30, 58: 31, 31: 46, 4: u2, 5: d2, 10: f2, 12: m2, 13: h2, 14: g2, 18: _2, 25: v2, 35: y2, 37: b2, 39: x2, 41: S2, 42: C2, 48: w2, 50: T2, 51: E2, 52: D2, 53: O2, 54: k2, 60: A2, 61: j2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }), e2(c2, [2, 39]), e2(c2, [2, 40]), e2(c2, [2, 41]), { 36: [1, 47] }, { 38: [1, 48] }, { 40: [1, 49] }, e2(c2, [2, 45]), e2(c2, [2, 46]), { 18: [1, 50] }, { 4: u2, 5: d2, 10: f2, 12: m2, 13: h2, 14: g2, 43: 51, 58: 31, 60: A2, 61: j2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }, { 4: u2, 5: d2, 10: f2, 12: m2, 13: h2, 14: g2, 43: 52, 58: 31, 60: A2, 61: j2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }, { 4: u2, 5: d2, 10: f2, 12: m2, 13: h2, 14: g2, 43: 53, 58: 31, 60: A2, 61: j2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }, { 4: u2, 5: d2, 10: f2, 12: m2, 13: h2, 14: g2, 43: 54, 58: 31, 60: A2, 61: j2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }, { 4: u2, 5: d2, 10: f2, 12: m2, 13: h2, 14: g2, 43: 55, 58: 31, 60: A2, 61: j2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }, { 4: u2, 5: d2, 10: f2, 12: m2, 13: h2, 14: g2, 43: 56, 58: 31, 60: A2, 61: j2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }, { 4: u2, 5: d2, 8: L2, 10: f2, 12: m2, 13: h2, 14: g2, 18: R2, 44: [1, 57], 47: [1, 58], 58: 60, 59: 59, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }, e2(z2, [2, 64]), e2(z2, [2, 66]), e2(z2, [2, 67]), e2(z2, [2, 70]), e2(z2, [2, 71]), e2(z2, [2, 72]), e2(z2, [2, 73]), e2(z2, [2, 74]), e2(z2, [2, 75]), e2(z2, [2, 76]), e2(z2, [2, 77]), e2(z2, [2, 78]), e2(z2, [2, 79]), e2(z2, [2, 80]), e2(o2, [2, 35]), e2(c2, [2, 38]), e2(c2, [2, 42]), e2(c2, [2, 43]), e2(c2, [2, 44]), { 3: 64, 4: B2, 5: ee2, 6: te, 7: ne, 8: re, 9: ie, 10: ae, 11: oe, 12: se, 13: ce, 14: le, 15: ue, 21: 63 }, e2(c2, [2, 53], { 59: 59, 58: 60, 4: u2, 5: d2, 8: L2, 10: f2, 12: m2, 13: h2, 14: g2, 18: R2, 49: [1, 77], 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }), e2(c2, [2, 56], { 59: 59, 58: 60, 4: u2, 5: d2, 8: L2, 10: f2, 12: m2, 13: h2, 14: g2, 18: R2, 49: [1, 78], 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }), e2(c2, [2, 57], { 59: 59, 58: 60, 4: u2, 5: d2, 8: L2, 10: f2, 12: m2, 13: h2, 14: g2, 18: R2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }), e2(c2, [2, 58], { 59: 59, 58: 60, 4: u2, 5: d2, 8: L2, 10: f2, 12: m2, 13: h2, 14: g2, 18: R2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }), e2(c2, [2, 59], { 59: 59, 58: 60, 4: u2, 5: d2, 8: L2, 10: f2, 12: m2, 13: h2, 14: g2, 18: R2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }), e2(c2, [2, 60], { 59: 59, 58: 60, 4: u2, 5: d2, 8: L2, 10: f2, 12: m2, 13: h2, 14: g2, 18: R2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }), { 45: [1, 79] }, { 44: [1, 80] }, e2(z2, [2, 65]), e2(z2, [2, 81]), e2(z2, [2, 82]), e2(z2, [2, 83]), { 3: 82, 4: B2, 5: ee2, 6: te, 7: ne, 8: re, 9: ie, 10: ae, 11: oe, 12: se, 13: ce, 14: le, 15: ue, 18: [1, 81] }, e2(V, [2, 23]), e2(V, [2, 1]), e2(V, [2, 2]), e2(V, [2, 3]), e2(V, [2, 4]), e2(V, [2, 5]), e2(V, [2, 6]), e2(V, [2, 7]), e2(V, [2, 8]), e2(V, [2, 9]), e2(V, [2, 10]), e2(V, [2, 11]), e2(V, [2, 12]), e2(c2, [2, 52], { 58: 31, 43: 83, 4: u2, 5: d2, 10: f2, 12: m2, 13: h2, 14: g2, 60: A2, 61: j2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }), e2(c2, [2, 55], { 58: 31, 43: 84, 4: u2, 5: d2, 10: f2, 12: m2, 13: h2, 14: g2, 60: A2, 61: j2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }), { 46: [1, 85] }, { 45: [1, 86] }, { 4: H, 5: U, 6: W, 8: G, 11: K, 13: q, 16: 89, 17: J, 18: Y, 19: X, 20: Z, 22: 88, 23: 87 }, e2(V, [2, 24]), e2(c2, [2, 51], { 59: 59, 58: 60, 4: u2, 5: d2, 8: L2, 10: f2, 12: m2, 13: h2, 14: g2, 18: R2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }), e2(c2, [2, 54], { 59: 59, 58: 60, 4: u2, 5: d2, 8: L2, 10: f2, 12: m2, 13: h2, 14: g2, 18: R2, 63: M2, 64: N2, 65: P2, 66: F2, 67: I2 }), e2(c2, [2, 47], { 22: 88, 16: 89, 23: 100, 4: H, 5: U, 6: W, 8: G, 11: K, 13: q, 17: J, 18: Y, 19: X, 20: Z }), { 46: [1, 101] }, e2(c2, [2, 29], { 10: de }), e2(fe, [2, 27], { 16: 103, 4: H, 5: U, 6: W, 8: G, 11: K, 13: q, 17: J, 18: Y, 19: X, 20: Z }), e2(Q, [2, 25]), e2(Q, [2, 13]), e2(Q, [2, 14]), e2(Q, [2, 15]), e2(Q, [2, 16]), e2(Q, [2, 17]), e2(Q, [2, 18]), e2(Q, [2, 19]), e2(Q, [2, 20]), e2(Q, [2, 21]), e2(Q, [2, 22]), e2(c2, [2, 49], { 10: de }), e2(c2, [2, 48], { 22: 88, 16: 89, 23: 104, 4: H, 5: U, 6: W, 8: G, 11: K, 13: q, 17: J, 18: Y, 19: X, 20: Z }), { 4: H, 5: U, 6: W, 8: G, 11: K, 13: q, 16: 89, 17: J, 18: Y, 19: X, 20: Z, 22: 105 }, e2(Q, [2, 26]), e2(c2, [2, 50], { 10: de }), e2(fe, [2, 28], { 16: 103, 4: H, 5: U, 6: W, 8: G, 11: K, 13: q, 17: J, 18: Y, 19: X, 20: Z })], defaultActions: { 8: [2, 30], 9: [2, 31] }, parseError: p(function(e3, t3) {
    if (t3.recoverable) this.trace(e3);
    else {
      var n3 = Error(e3);
      throw n3.hash = t3, n3;
    }
  }, `parseError`), parse: p(function(e3) {
    var t3 = this, n3 = [0], r3 = [], i3 = [null], a3 = [], o3 = this.table, s3 = ``, c3 = 0, l3 = 0, u3 = 0, d3 = 2, f3 = 1, m3 = a3.slice.call(arguments, 1), h3 = Object.create(this.lexer), g3 = { yy: {} };
    for (var _3 in this.yy) Object.prototype.hasOwnProperty.call(this.yy, _3) && (g3.yy[_3] = this.yy[_3]);
    h3.setInput(e3, g3.yy), g3.yy.lexer = h3, g3.yy.parser = this, h3.yylloc === void 0 && (h3.yylloc = {});
    var v3 = h3.yylloc;
    a3.push(v3);
    var y3 = h3.options && h3.options.ranges;
    typeof g3.yy.parseError == `function` ? this.parseError = g3.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError;
    function b3(e4) {
      n3.length -= 2 * e4, i3.length -= e4, a3.length -= e4;
    }
    p(b3, `popStack`);
    function x3() {
      var e4 = r3.pop() || h3.lex() || f3;
      return typeof e4 != `number` && (e4 instanceof Array && (r3 = e4, e4 = r3.pop()), e4 = t3.symbols_[e4] || e4), e4;
    }
    p(x3, `lex`);
    for (var S3, C3, w3, T3, E3, D3 = {}, O3, k3, A3, j3; ; ) {
      if (w3 = n3[n3.length - 1], this.defaultActions[w3] ? T3 = this.defaultActions[w3] : (S3 ?? (S3 = x3()), T3 = o3[w3] && o3[w3][S3]), T3 === void 0 || !T3.length || !T3[0]) {
        var M3 = ``;
        for (O3 in j3 = [], o3[w3]) this.terminals_[O3] && O3 > d3 && j3.push(`'` + this.terminals_[O3] + `'`);
        M3 = h3.showPosition ? `Parse error on line ` + (c3 + 1) + `:
` + h3.showPosition() + `
Expecting ` + j3.join(`, `) + `, got '` + (this.terminals_[S3] || S3) + `'` : `Parse error on line ` + (c3 + 1) + `: Unexpected ` + (S3 == f3 ? `end of input` : `'` + (this.terminals_[S3] || S3) + `'`), this.parseError(M3, { text: h3.match, token: this.terminals_[S3] || S3, line: h3.yylineno, loc: v3, expected: j3 });
      }
      if (T3[0] instanceof Array && T3.length > 1) throw Error(`Parse Error: multiple actions possible at state: ` + w3 + `, token: ` + S3);
      switch (T3[0]) {
        case 1:
          n3.push(S3), i3.push(h3.yytext), a3.push(h3.yylloc), n3.push(T3[1]), S3 = null, C3 ? (S3 = C3, C3 = null) : (l3 = h3.yyleng, s3 = h3.yytext, c3 = h3.yylineno, v3 = h3.yylloc, u3 > 0 && u3--);
          break;
        case 2:
          if (k3 = this.productions_[T3[1]][1], D3.$ = i3[i3.length - k3], D3._$ = { first_line: a3[a3.length - (k3 || 1)].first_line, last_line: a3[a3.length - 1].last_line, first_column: a3[a3.length - (k3 || 1)].first_column, last_column: a3[a3.length - 1].last_column }, y3 && (D3._$.range = [a3[a3.length - (k3 || 1)].range[0], a3[a3.length - 1].range[1]]), E3 = this.performAction.apply(D3, [s3, l3, c3, g3.yy, T3[1], i3, a3].concat(m3)), E3 !== void 0) return E3;
          k3 && (n3 = n3.slice(0, -1 * k3 * 2), i3 = i3.slice(0, -1 * k3), a3 = a3.slice(0, -1 * k3)), n3.push(this.productions_[T3[1]][0]), i3.push(D3.$), a3.push(D3._$), A3 = o3[n3[n3.length - 2]][n3[n3.length - 1]], n3.push(A3);
          break;
        case 3:
          return true;
      }
    }
    return true;
  }, `parse`) };
  pe.lexer = (function() {
    return { EOF: 1, parseError: p(function(e3, t3) {
      if (this.yy.parser) this.yy.parser.parseError(e3, t3);
      else throw Error(e3);
    }, `parseError`), setInput: p(function(e3, t3) {
      return this.yy = t3 || this.yy || {}, this._input = e3, this._more = this._backtrack = this.done = false, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = ``, this.conditionStack = [`INITIAL`], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
    }, `setInput`), input: p(function() {
      var e3 = this._input[0];
      return this.yytext += e3, this.yyleng++, this.offset++, this.match += e3, this.matched += e3, e3.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e3;
    }, `input`), unput: p(function(e3) {
      var t3 = e3.length, n3 = e3.split(/(?:\r\n?|\n)/g);
      this._input = e3 + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t3), this.offset -= t3;
      var r3 = this.match.split(/(?:\r\n?|\n)/g);
      this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), n3.length - 1 && (this.yylineno -= n3.length - 1);
      var i3 = this.yylloc.range;
      return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: n3 ? (n3.length === r3.length ? this.yylloc.first_column : 0) + r3[r3.length - n3.length].length - n3[0].length : this.yylloc.first_column - t3 }, this.options.ranges && (this.yylloc.range = [i3[0], i3[0] + this.yyleng - t3]), this.yyleng = this.yytext.length, this;
    }, `unput`), more: p(function() {
      return this._more = true, this;
    }, `more`), reject: p(function() {
      if (this.options.backtrack_lexer) this._backtrack = true;
      else return this.parseError(`Lexical error on line ` + (this.yylineno + 1) + `. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
` + this.showPosition(), { text: ``, token: null, line: this.yylineno });
      return this;
    }, `reject`), less: p(function(e3) {
      this.unput(this.match.slice(e3));
    }, `less`), pastInput: p(function() {
      var e3 = this.matched.substr(0, this.matched.length - this.match.length);
      return (e3.length > 20 ? `...` : ``) + e3.substr(-20).replace(/\n/g, ``);
    }, `pastInput`), upcomingInput: p(function() {
      var e3 = this.match;
      return e3.length < 20 && (e3 += this._input.substr(0, 20 - e3.length)), (e3.substr(0, 20) + (e3.length > 20 ? `...` : ``)).replace(/\n/g, ``);
    }, `upcomingInput`), showPosition: p(function() {
      var e3 = this.pastInput(), t3 = Array(e3.length + 1).join(`-`);
      return e3 + this.upcomingInput() + `
` + t3 + `^`;
    }, `showPosition`), test_match: p(function(e3, t3) {
      var n3, r3, i3;
      if (this.options.backtrack_lexer && (i3 = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (i3.yylloc.range = this.yylloc.range.slice(0))), r3 = e3[0].match(/(?:\r\n?|\n).*/g), r3 && (this.yylineno += r3.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: r3 ? r3[r3.length - 1].length - r3[r3.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e3[0].length }, this.yytext += e3[0], this.match += e3[0], this.matches = e3, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = false, this._backtrack = false, this._input = this._input.slice(e3[0].length), this.matched += e3[0], n3 = this.performAction.call(this, this.yy, this, t3, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = false), n3) return n3;
      if (this._backtrack) {
        for (var a3 in i3) this[a3] = i3[a3];
        return false;
      }
      return false;
    }, `test_match`), next: p(function() {
      if (this.done) return this.EOF;
      this._input || (this.done = true);
      var e3, t3, n3, r3;
      this._more || (this.yytext = ``, this.match = ``);
      for (var i3 = this._currentRules(), a3 = 0; a3 < i3.length; a3++) if (n3 = this._input.match(this.rules[i3[a3]]), n3 && (!t3 || n3[0].length > t3[0].length)) {
        if (t3 = n3, r3 = a3, this.options.backtrack_lexer) {
          if (e3 = this.test_match(n3, i3[a3]), e3 !== false) return e3;
          if (this._backtrack) {
            t3 = false;
            continue;
          } else return false;
        } else if (!this.options.flex) break;
      }
      return t3 ? (e3 = this.test_match(t3, i3[r3]), e3 === false ? false : e3) : this._input === `` ? this.EOF : this.parseError(`Lexical error on line ` + (this.yylineno + 1) + `. Unrecognized text.
` + this.showPosition(), { text: ``, token: null, line: this.yylineno });
    }, `next`), lex: p(function() {
      return this.next() || this.lex();
    }, `lex`), begin: p(function(e3) {
      this.conditionStack.push(e3);
    }, `begin`), popState: p(function() {
      return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0];
    }, `popState`), _currentRules: p(function() {
      return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules;
    }, `_currentRules`), topState: p(function(e3) {
      return e3 = this.conditionStack.length - 1 - Math.abs(e3 || 0), e3 >= 0 ? this.conditionStack[e3] : `INITIAL`;
    }, `topState`), pushState: p(function(e3) {
      this.begin(e3);
    }, `pushState`), stateStackSize: p(function() {
      return this.conditionStack.length;
    }, `stateStackSize`), options: { "case-insensitive": true }, performAction: p(function(e3, t3, n3, r3) {
      switch (n3) {
        case 0:
          break;
        case 1:
          break;
        case 2:
          return 55;
        case 3:
          break;
        case 4:
          return this.begin(`title`), 35;
        case 5:
          return this.popState(), `title_value`;
        case 6:
          return this.begin(`acc_title`), 37;
        case 7:
          return this.popState(), `acc_title_value`;
        case 8:
          return this.begin(`acc_descr`), 39;
        case 9:
          return this.popState(), `acc_descr_value`;
        case 10:
          this.begin(`acc_descr_multiline`);
          break;
        case 11:
          this.popState();
          break;
        case 12:
          return `acc_descr_multiline_value`;
        case 13:
          return 48;
        case 14:
          return 50;
        case 15:
          return 49;
        case 16:
          return 51;
        case 17:
          return 52;
        case 18:
          return 53;
        case 19:
          return 54;
        case 20:
          return 25;
        case 21:
          this.begin(`md_string`);
          break;
        case 22:
          return `MD_STR`;
        case 23:
          this.popState();
          break;
        case 24:
          this.begin(`string`);
          break;
        case 25:
          this.popState();
          break;
        case 26:
          return `STR`;
        case 27:
          this.begin(`class_name`);
          break;
        case 28:
          return this.popState(), 47;
        case 29:
          return this.begin(`point_start`), 44;
        case 30:
          return this.begin(`point_x`), 45;
        case 31:
          this.popState();
          break;
        case 32:
          this.popState(), this.begin(`point_y`);
          break;
        case 33:
          return this.popState(), 46;
        case 34:
          return 28;
        case 35:
          return 4;
        case 36:
          return 11;
        case 37:
          return 64;
        case 38:
          return 10;
        case 39:
          return 65;
        case 40:
          return 65;
        case 41:
          return 14;
        case 42:
          return 13;
        case 43:
          return 67;
        case 44:
          return 66;
        case 45:
          return 12;
        case 46:
          return 8;
        case 47:
          return 5;
        case 48:
          return 18;
        case 49:
          return 56;
        case 50:
          return 63;
        case 51:
          return 57;
      }
    }, `anonymous`), rules: [/^(?:%%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n\r]+)/i, /^(?:%%[^\n]*)/i, /^(?:title\b)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?: *x-axis *)/i, /^(?: *y-axis *)/i, /^(?: *--+> *)/i, /^(?: *quadrant-1 *)/i, /^(?: *quadrant-2 *)/i, /^(?: *quadrant-3 *)/i, /^(?: *quadrant-4 *)/i, /^(?:classDef\b)/i, /^(?:["][`])/i, /^(?:[^`"]+)/i, /^(?:[`]["])/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?::::)/i, /^(?:^\w+)/i, /^(?:\s*:\s*\[\s*)/i, /^(?:(1)|(0(.\d+)?))/i, /^(?:\s*\] *)/i, /^(?:\s*,\s*)/i, /^(?:(1)|(0(.\d+)?))/i, /^(?: *quadrantChart *)/i, /^(?:[A-Za-z]+)/i, /^(?::)/i, /^(?:\+)/i, /^(?:,)/i, /^(?:=)/i, /^(?:=)/i, /^(?:\*)/i, /^(?:#)/i, /^(?:[\_])/i, /^(?:\.)/i, /^(?:&)/i, /^(?:-)/i, /^(?:[0-9]+)/i, /^(?:\s)/i, /^(?:;)/i, /^(?:[!"#$%&'*+,-.`?\\_/])/i, /^(?:$)/i], conditions: { class_name: { rules: [28], inclusive: false }, point_y: { rules: [33], inclusive: false }, point_x: { rules: [32], inclusive: false }, point_start: { rules: [30, 31], inclusive: false }, acc_descr_multiline: { rules: [11, 12], inclusive: false }, acc_descr: { rules: [9], inclusive: false }, acc_title: { rules: [7], inclusive: false }, title: { rules: [5], inclusive: false }, md_string: { rules: [22, 23], inclusive: false }, string: { rules: [25, 26], inclusive: false }, INITIAL: { rules: [0, 1, 2, 3, 4, 6, 8, 10, 13, 14, 15, 16, 17, 18, 19, 20, 21, 24, 27, 29, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51], inclusive: true } } };
  })();
  function $() {
    this.yy = {};
  }
  return p($, `Parser`), $.prototype = pe, pe.Parser = $, new $();
})();
g.parser = g;
var _ = g, v = r(), y = (_a = class {
  constructor() {
    this.classes = /* @__PURE__ */ new Map(), this.config = this.getDefaultConfig(), this.themeConfig = this.getDefaultThemeConfig(), this.data = this.getDefaultData();
  }
  getDefaultData() {
    return { titleText: ``, quadrant1Text: ``, quadrant2Text: ``, quadrant3Text: ``, quadrant4Text: ``, xAxisLeftText: ``, xAxisRightText: ``, yAxisBottomText: ``, yAxisTopText: ``, points: [] };
  }
  getDefaultConfig() {
    var _a2, _b2, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r;
    return { showXAxis: true, showYAxis: true, showTitle: true, chartHeight: ((_a2 = l.quadrantChart) == null ? void 0 : _a2.chartWidth) || 500, chartWidth: ((_b2 = l.quadrantChart) == null ? void 0 : _b2.chartHeight) || 500, titlePadding: ((_c = l.quadrantChart) == null ? void 0 : _c.titlePadding) || 10, titleFontSize: ((_d = l.quadrantChart) == null ? void 0 : _d.titleFontSize) || 20, quadrantPadding: ((_e = l.quadrantChart) == null ? void 0 : _e.quadrantPadding) || 5, xAxisLabelPadding: ((_f = l.quadrantChart) == null ? void 0 : _f.xAxisLabelPadding) || 5, yAxisLabelPadding: ((_g = l.quadrantChart) == null ? void 0 : _g.yAxisLabelPadding) || 5, xAxisLabelFontSize: ((_h = l.quadrantChart) == null ? void 0 : _h.xAxisLabelFontSize) || 16, yAxisLabelFontSize: ((_i = l.quadrantChart) == null ? void 0 : _i.yAxisLabelFontSize) || 16, quadrantLabelFontSize: ((_j = l.quadrantChart) == null ? void 0 : _j.quadrantLabelFontSize) || 16, quadrantTextTopPadding: ((_k = l.quadrantChart) == null ? void 0 : _k.quadrantTextTopPadding) || 5, pointTextPadding: ((_l = l.quadrantChart) == null ? void 0 : _l.pointTextPadding) || 5, pointLabelFontSize: ((_m = l.quadrantChart) == null ? void 0 : _m.pointLabelFontSize) || 12, pointRadius: ((_n = l.quadrantChart) == null ? void 0 : _n.pointRadius) || 5, xAxisPosition: ((_o = l.quadrantChart) == null ? void 0 : _o.xAxisPosition) || `top`, yAxisPosition: ((_p = l.quadrantChart) == null ? void 0 : _p.yAxisPosition) || `left`, quadrantInternalBorderStrokeWidth: ((_q = l.quadrantChart) == null ? void 0 : _q.quadrantInternalBorderStrokeWidth) || 1, quadrantExternalBorderStrokeWidth: ((_r = l.quadrantChart) == null ? void 0 : _r.quadrantExternalBorderStrokeWidth) || 2 };
  }
  getDefaultThemeConfig() {
    return { quadrant1Fill: v.quadrant1Fill, quadrant2Fill: v.quadrant2Fill, quadrant3Fill: v.quadrant3Fill, quadrant4Fill: v.quadrant4Fill, quadrant1TextFill: v.quadrant1TextFill, quadrant2TextFill: v.quadrant2TextFill, quadrant3TextFill: v.quadrant3TextFill, quadrant4TextFill: v.quadrant4TextFill, quadrantPointFill: v.quadrantPointFill, quadrantPointTextFill: v.quadrantPointTextFill, quadrantXAxisTextFill: v.quadrantXAxisTextFill, quadrantYAxisTextFill: v.quadrantYAxisTextFill, quadrantTitleFill: v.quadrantTitleFill, quadrantInternalBorderStrokeFill: v.quadrantInternalBorderStrokeFill, quadrantExternalBorderStrokeFill: v.quadrantExternalBorderStrokeFill };
  }
  clear() {
    this.config = this.getDefaultConfig(), this.themeConfig = this.getDefaultThemeConfig(), this.data = this.getDefaultData(), this.classes = /* @__PURE__ */ new Map(), f.info(`clear called`);
  }
  setData(e2) {
    this.data = { ...this.data, ...e2 };
  }
  addPoints(e2) {
    this.data.points = [...e2, ...this.data.points];
  }
  addClass(e2, t2) {
    this.classes.set(e2, t2);
  }
  setConfig(e2) {
    f.trace(`setConfig called with: `, e2), this.config = { ...this.config, ...e2 };
  }
  setThemeConfig(e2) {
    f.trace(`setThemeConfig called with: `, e2), this.themeConfig = { ...this.themeConfig, ...e2 };
  }
  calculateSpace(e2, t2, n2, r2) {
    let i2 = this.config.xAxisLabelPadding * 2 + this.config.xAxisLabelFontSize, a2 = { top: e2 === `top` && t2 ? i2 : 0, bottom: e2 === `bottom` && t2 ? i2 : 0 }, o2 = this.config.yAxisLabelPadding * 2 + this.config.yAxisLabelFontSize, s2 = { left: this.config.yAxisPosition === `left` && n2 ? o2 : 0, right: this.config.yAxisPosition === `right` && n2 ? o2 : 0 }, c2 = this.config.titleFontSize + this.config.titlePadding * 2, l2 = { top: r2 ? c2 : 0 }, u2 = this.config.quadrantPadding + s2.left, d2 = this.config.quadrantPadding + a2.top + l2.top, f2 = this.config.chartWidth - this.config.quadrantPadding * 2 - s2.left - s2.right, p2 = this.config.chartHeight - this.config.quadrantPadding * 2 - a2.top - a2.bottom - l2.top;
    return { xAxisSpace: a2, yAxisSpace: s2, titleSpace: l2, quadrantSpace: { quadrantLeft: u2, quadrantTop: d2, quadrantWidth: f2, quadrantHalfWidth: f2 / 2, quadrantHeight: p2, quadrantHalfHeight: p2 / 2 } };
  }
  getAxisLabels(e2, t2, n2, r2) {
    let { quadrantSpace: i2, titleSpace: a2 } = r2, { quadrantHalfHeight: o2, quadrantHeight: s2, quadrantLeft: c2, quadrantHalfWidth: l2, quadrantTop: u2, quadrantWidth: d2 } = i2, f2 = !!this.data.xAxisRightText, p2 = !!this.data.yAxisTopText, m2 = [];
    return this.data.xAxisLeftText && t2 && m2.push({ text: this.data.xAxisLeftText, fill: this.themeConfig.quadrantXAxisTextFill, x: c2 + (f2 ? l2 / 2 : 0), y: e2 === `top` ? this.config.xAxisLabelPadding + a2.top : this.config.xAxisLabelPadding + u2 + s2 + this.config.quadrantPadding, fontSize: this.config.xAxisLabelFontSize, verticalPos: f2 ? `center` : `left`, horizontalPos: `top`, rotation: 0 }), this.data.xAxisRightText && t2 && m2.push({ text: this.data.xAxisRightText, fill: this.themeConfig.quadrantXAxisTextFill, x: c2 + l2 + (f2 ? l2 / 2 : 0), y: e2 === `top` ? this.config.xAxisLabelPadding + a2.top : this.config.xAxisLabelPadding + u2 + s2 + this.config.quadrantPadding, fontSize: this.config.xAxisLabelFontSize, verticalPos: f2 ? `center` : `left`, horizontalPos: `top`, rotation: 0 }), this.data.yAxisBottomText && n2 && m2.push({ text: this.data.yAxisBottomText, fill: this.themeConfig.quadrantYAxisTextFill, x: this.config.yAxisPosition === `left` ? this.config.yAxisLabelPadding : this.config.yAxisLabelPadding + c2 + d2 + this.config.quadrantPadding, y: u2 + s2 - (p2 ? o2 / 2 : 0), fontSize: this.config.yAxisLabelFontSize, verticalPos: p2 ? `center` : `left`, horizontalPos: `top`, rotation: -90 }), this.data.yAxisTopText && n2 && m2.push({ text: this.data.yAxisTopText, fill: this.themeConfig.quadrantYAxisTextFill, x: this.config.yAxisPosition === `left` ? this.config.yAxisLabelPadding : this.config.yAxisLabelPadding + c2 + d2 + this.config.quadrantPadding, y: u2 + o2 - (p2 ? o2 / 2 : 0), fontSize: this.config.yAxisLabelFontSize, verticalPos: p2 ? `center` : `left`, horizontalPos: `top`, rotation: -90 }), m2;
  }
  getQuadrants(e2) {
    let { quadrantSpace: t2 } = e2, { quadrantHalfHeight: n2, quadrantLeft: r2, quadrantHalfWidth: i2, quadrantTop: a2 } = t2, o2 = [{ text: { text: this.data.quadrant1Text, fill: this.themeConfig.quadrant1TextFill, x: 0, y: 0, fontSize: this.config.quadrantLabelFontSize, verticalPos: `center`, horizontalPos: `middle`, rotation: 0 }, x: r2 + i2, y: a2, width: i2, height: n2, fill: this.themeConfig.quadrant1Fill }, { text: { text: this.data.quadrant2Text, fill: this.themeConfig.quadrant2TextFill, x: 0, y: 0, fontSize: this.config.quadrantLabelFontSize, verticalPos: `center`, horizontalPos: `middle`, rotation: 0 }, x: r2, y: a2, width: i2, height: n2, fill: this.themeConfig.quadrant2Fill }, { text: { text: this.data.quadrant3Text, fill: this.themeConfig.quadrant3TextFill, x: 0, y: 0, fontSize: this.config.quadrantLabelFontSize, verticalPos: `center`, horizontalPos: `middle`, rotation: 0 }, x: r2, y: a2 + n2, width: i2, height: n2, fill: this.themeConfig.quadrant3Fill }, { text: { text: this.data.quadrant4Text, fill: this.themeConfig.quadrant4TextFill, x: 0, y: 0, fontSize: this.config.quadrantLabelFontSize, verticalPos: `center`, horizontalPos: `middle`, rotation: 0 }, x: r2 + i2, y: a2 + n2, width: i2, height: n2, fill: this.themeConfig.quadrant4Fill }];
    for (let e3 of o2) e3.text.x = e3.x + e3.width / 2, this.data.points.length === 0 ? (e3.text.y = e3.y + e3.height / 2, e3.text.horizontalPos = `middle`) : (e3.text.y = e3.y + this.config.quadrantTextTopPadding, e3.text.horizontalPos = `top`);
    return o2;
  }
  getQuadrantPoints(e2) {
    let { quadrantSpace: t2 } = e2, { quadrantHeight: n2, quadrantLeft: r2, quadrantTop: i2, quadrantWidth: a2 } = t2, o2 = h().domain([0, 1]).range([r2, a2 + r2]), s2 = h().domain([0, 1]).range([n2 + i2, i2]);
    return this.data.points.map((e3) => {
      let t3 = this.classes.get(e3.className);
      return t3 && (e3 = { ...t3, ...e3 }), { x: o2(e3.x), y: s2(e3.y), fill: e3.color ?? this.themeConfig.quadrantPointFill, radius: e3.radius ?? this.config.pointRadius, text: { text: e3.text, fill: this.themeConfig.quadrantPointTextFill, x: o2(e3.x), y: s2(e3.y) + this.config.pointTextPadding, verticalPos: `center`, horizontalPos: `top`, fontSize: this.config.pointLabelFontSize, rotation: 0 }, strokeColor: e3.strokeColor ?? this.themeConfig.quadrantPointFill, strokeWidth: e3.strokeWidth ?? `0px` };
    });
  }
  getBorders(e2) {
    let t2 = this.config.quadrantExternalBorderStrokeWidth / 2, { quadrantSpace: n2 } = e2, { quadrantHalfHeight: r2, quadrantHeight: i2, quadrantLeft: a2, quadrantHalfWidth: o2, quadrantTop: s2, quadrantWidth: c2 } = n2;
    return [{ strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill, strokeWidth: this.config.quadrantExternalBorderStrokeWidth, x1: a2 - t2, y1: s2, x2: a2 + c2 + t2, y2: s2 }, { strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill, strokeWidth: this.config.quadrantExternalBorderStrokeWidth, x1: a2 + c2, y1: s2 + t2, x2: a2 + c2, y2: s2 + i2 - t2 }, { strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill, strokeWidth: this.config.quadrantExternalBorderStrokeWidth, x1: a2 - t2, y1: s2 + i2, x2: a2 + c2 + t2, y2: s2 + i2 }, { strokeFill: this.themeConfig.quadrantExternalBorderStrokeFill, strokeWidth: this.config.quadrantExternalBorderStrokeWidth, x1: a2, y1: s2 + t2, x2: a2, y2: s2 + i2 - t2 }, { strokeFill: this.themeConfig.quadrantInternalBorderStrokeFill, strokeWidth: this.config.quadrantInternalBorderStrokeWidth, x1: a2 + o2, y1: s2 + t2, x2: a2 + o2, y2: s2 + i2 - t2 }, { strokeFill: this.themeConfig.quadrantInternalBorderStrokeFill, strokeWidth: this.config.quadrantInternalBorderStrokeWidth, x1: a2 + t2, y1: s2 + r2, x2: a2 + c2 - t2, y2: s2 + r2 }];
  }
  getTitle(e2) {
    if (e2) return { text: this.data.titleText, fill: this.themeConfig.quadrantTitleFill, fontSize: this.config.titleFontSize, horizontalPos: `top`, verticalPos: `center`, rotation: 0, y: this.config.titlePadding, x: this.config.chartWidth / 2 };
  }
  build() {
    let e2 = this.config.showXAxis && !!(this.data.xAxisLeftText || this.data.xAxisRightText), t2 = this.config.showYAxis && !!(this.data.yAxisTopText || this.data.yAxisBottomText), n2 = this.config.showTitle && !!this.data.titleText, r2 = this.data.points.length > 0 ? `bottom` : this.config.xAxisPosition, i2 = this.calculateSpace(r2, e2, t2, n2);
    return { points: this.getQuadrantPoints(i2), quadrants: this.getQuadrants(i2), axisLabels: this.getAxisLabels(r2, e2, t2, i2), borderLines: this.getBorders(i2), title: this.getTitle(n2) };
  }
}, p(_a, `QuadrantBuilder`), _a), b = (_b = class extends Error {
  constructor(e2, t2, n2) {
    super(`value for ${e2} ${t2} is invalid, please use a valid ${n2}`), this.name = `InvalidStyleError`;
  }
}, p(_b, `InvalidStyleError`), _b);
function x(e2) {
  return !/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e2);
}
p(x, `validateHexCode`);
function S(e2) {
  return !/^\d+$/.test(e2);
}
p(S, `validateNumber`);
function C(e2) {
  return !/^\d+px$/.test(e2);
}
p(C, `validateSizeInPixels`);
var w = s();
function T(e2) {
  return n(e2.trim(), w);
}
p(T, `textSanitizer`);
var E = new y();
function D(e2) {
  E.setData({ quadrant1Text: T(e2.text) });
}
p(D, `setQuadrant1Text`);
function O(e2) {
  E.setData({ quadrant2Text: T(e2.text) });
}
p(O, `setQuadrant2Text`);
function k(e2) {
  E.setData({ quadrant3Text: T(e2.text) });
}
p(k, `setQuadrant3Text`);
function A(e2) {
  E.setData({ quadrant4Text: T(e2.text) });
}
p(A, `setQuadrant4Text`);
function j(e2) {
  E.setData({ xAxisLeftText: T(e2.text) });
}
p(j, `setXAxisLeftText`);
function M(e2) {
  E.setData({ xAxisRightText: T(e2.text) });
}
p(M, `setXAxisRightText`);
function N(e2) {
  E.setData({ yAxisTopText: T(e2.text) });
}
p(N, `setYAxisTopText`);
function P(e2) {
  E.setData({ yAxisBottomText: T(e2.text) });
}
p(P, `setYAxisBottomText`);
function F(e2) {
  let t2 = {};
  for (let n2 of e2) {
    let [e3, r2] = n2.trim().split(/\s*:\s*/);
    if (e3 === `radius`) {
      if (S(r2)) throw new b(e3, r2, `number`);
      t2.radius = parseInt(r2);
    } else if (e3 === `color`) {
      if (x(r2)) throw new b(e3, r2, `hex code`);
      t2.color = r2;
    } else if (e3 === `stroke-color`) {
      if (x(r2)) throw new b(e3, r2, `hex code`);
      t2.strokeColor = r2;
    } else if (e3 === `stroke-width`) {
      if (C(r2)) throw new b(e3, r2, `number of pixels (eg. 10px)`);
      t2.strokeWidth = r2;
    } else throw Error(`style named ${e3} is not supported.`);
  }
  return t2;
}
p(F, `parseStyles`);
function I(e2, t2, n2, r2, i2) {
  let a2 = F(i2);
  E.addPoints([{ x: n2, y: r2, text: T(e2.text), className: t2, ...a2 }]);
}
p(I, `addPoint`);
function L(e2, t2) {
  E.addClass(e2, F(t2));
}
p(L, `addClass`);
function R(e2) {
  E.setConfig({ chartWidth: e2 });
}
p(R, `setWidth`);
function z(e2) {
  E.setConfig({ chartHeight: e2 });
}
p(z, `setHeight`);
function B() {
  let { themeVariables: e2, quadrantChart: n2 } = s();
  return n2 && E.setConfig(n2), E.setThemeConfig({ quadrant1Fill: e2.quadrant1Fill, quadrant2Fill: e2.quadrant2Fill, quadrant3Fill: e2.quadrant3Fill, quadrant4Fill: e2.quadrant4Fill, quadrant1TextFill: e2.quadrant1TextFill, quadrant2TextFill: e2.quadrant2TextFill, quadrant3TextFill: e2.quadrant3TextFill, quadrant4TextFill: e2.quadrant4TextFill, quadrantPointFill: e2.quadrantPointFill, quadrantPointTextFill: e2.quadrantPointTextFill, quadrantXAxisTextFill: e2.quadrantXAxisTextFill, quadrantYAxisTextFill: e2.quadrantYAxisTextFill, quadrantExternalBorderStrokeFill: e2.quadrantExternalBorderStrokeFill, quadrantInternalBorderStrokeFill: e2.quadrantInternalBorderStrokeFill, quadrantTitleFill: e2.quadrantTitleFill }), E.setData({ titleText: t() }), E.build();
}
p(B, `getQuadrantData`);
var ee = { parser: _, db: { setWidth: R, setHeight: z, setQuadrant1Text: D, setQuadrant2Text: O, setQuadrant3Text: k, setQuadrant4Text: A, setXAxisLeftText: j, setXAxisRightText: M, setYAxisTopText: N, setYAxisBottomText: P, parseStyles: F, addPoint: I, addClass: L, getQuadrantData: B, clear: p(function() {
  E.clear(), o();
}, `clear`), setAccTitle: e, getAccTitle: u, setDiagramTitle: i, getDiagramTitle: t, getAccDescription: a, setAccDescription: d }, renderer: { draw: p((e2, t2, n2, r2) => {
  var _a2, _b2, _c;
  function i2(e3) {
    return e3 === `top` ? `hanging` : `middle`;
  }
  p(i2, `getDominantBaseLine`);
  function a2(e3) {
    return e3 === `left` ? `start` : `middle`;
  }
  p(a2, `getTextAnchor`);
  function o2(e3) {
    return `translate(${e3.x}, ${e3.y}) rotate(${e3.rotation || 0})`;
  }
  p(o2, `getTransformation`);
  let l2 = s();
  f.debug(`Rendering quadrant chart
` + e2);
  let u2 = l2.securityLevel, d2;
  u2 === `sandbox` && (d2 = m(`#i` + t2));
  let h2 = m(u2 === `sandbox` ? d2.nodes()[0].contentDocument.body : `body`).select(`[id="${t2}"]`), g2 = h2.append(`g`).attr(`class`, `main`), _2 = ((_a2 = l2.quadrantChart) == null ? void 0 : _a2.chartWidth) ?? 500, v2 = ((_b2 = l2.quadrantChart) == null ? void 0 : _b2.chartHeight) ?? 500;
  c(h2, v2, _2, ((_c = l2.quadrantChart) == null ? void 0 : _c.useMaxWidth) ?? true), h2.attr(`viewBox`, `0 0 ` + _2 + ` ` + v2), r2.db.setHeight(v2), r2.db.setWidth(_2);
  let y2 = r2.db.getQuadrantData(), b2 = g2.append(`g`).attr(`class`, `quadrants`), x2 = g2.append(`g`).attr(`class`, `border`), S2 = g2.append(`g`).attr(`class`, `data-points`), C2 = g2.append(`g`).attr(`class`, `labels`), w2 = g2.append(`g`).attr(`class`, `title`);
  y2.title && w2.append(`text`).attr(`x`, 0).attr(`y`, 0).attr(`fill`, y2.title.fill).attr(`font-size`, y2.title.fontSize).attr(`dominant-baseline`, i2(y2.title.horizontalPos)).attr(`text-anchor`, a2(y2.title.verticalPos)).attr(`transform`, o2(y2.title)).text(y2.title.text), y2.borderLines && x2.selectAll(`line`).data(y2.borderLines).enter().append(`line`).attr(`x1`, (e3) => e3.x1).attr(`y1`, (e3) => e3.y1).attr(`x2`, (e3) => e3.x2).attr(`y2`, (e3) => e3.y2).style(`stroke`, (e3) => e3.strokeFill).style(`stroke-width`, (e3) => e3.strokeWidth);
  let T2 = b2.selectAll(`g.quadrant`).data(y2.quadrants).enter().append(`g`).attr(`class`, `quadrant`);
  T2.append(`rect`).attr(`x`, (e3) => e3.x).attr(`y`, (e3) => e3.y).attr(`width`, (e3) => e3.width).attr(`height`, (e3) => e3.height).attr(`fill`, (e3) => e3.fill), T2.append(`text`).attr(`x`, 0).attr(`y`, 0).attr(`fill`, (e3) => e3.text.fill).attr(`font-size`, (e3) => e3.text.fontSize).attr(`dominant-baseline`, (e3) => i2(e3.text.horizontalPos)).attr(`text-anchor`, (e3) => a2(e3.text.verticalPos)).attr(`transform`, (e3) => o2(e3.text)).text((e3) => e3.text.text), C2.selectAll(`g.label`).data(y2.axisLabels).enter().append(`g`).attr(`class`, `label`).append(`text`).attr(`x`, 0).attr(`y`, 0).text((e3) => e3.text).attr(`fill`, (e3) => e3.fill).attr(`font-size`, (e3) => e3.fontSize).attr(`dominant-baseline`, (e3) => i2(e3.horizontalPos)).attr(`text-anchor`, (e3) => a2(e3.verticalPos)).attr(`transform`, (e3) => o2(e3));
  let E2 = S2.selectAll(`g.data-point`).data(y2.points).enter().append(`g`).attr(`class`, `data-point`);
  E2.append(`circle`).attr(`cx`, (e3) => e3.x).attr(`cy`, (e3) => e3.y).attr(`r`, (e3) => e3.radius).attr(`fill`, (e3) => e3.fill).attr(`stroke`, (e3) => e3.strokeColor).attr(`stroke-width`, (e3) => e3.strokeWidth), E2.append(`text`).attr(`x`, 0).attr(`y`, 0).text((e3) => e3.text.text).attr(`fill`, (e3) => e3.text.fill).attr(`font-size`, (e3) => e3.text.fontSize).attr(`dominant-baseline`, (e3) => i2(e3.text.horizontalPos)).attr(`text-anchor`, (e3) => a2(e3.text.verticalPos)).attr(`transform`, (e3) => o2(e3.text));
}, `draw`) }, styles: p(() => ``, `styles`) };
export {
  ee as diagram
};
